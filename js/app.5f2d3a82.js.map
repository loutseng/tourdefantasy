{"version":3,"file":"js/app.5f2d3a82.js","mappings":"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","sources":["webpack://TourDeFantasy/./src/App.vue","webpack://TourDeFantasy/./src/stores/authentication.js","webpack://TourDeFantasy/./src/stores/racer.js","webpack://TourDeFantasy/./src/stores/league.js","webpack://TourDeFantasy/./src/components/NavBar.vue","webpack://TourDeFantasy/./src/components/NavBar.vue?01fd","webpack://TourDeFantasy/./src/stores/automation.js","webpack://TourDeFantasy/./src/components/AutoBot.vue","webpack://TourDeFantasy/./src/components/AutoBot.vue?5761","webpack://TourDeFantasy/./src/App.vue?7ccd","webpack://TourDeFantasy/./src/views/LoginView.vue","webpack://TourDeFantasy/./src/views/LoginView.vue?5755","webpack://TourDeFantasy/./src/views/CallbackView.vue","webpack://TourDeFantasy/./src/views/CallbackView.vue?420b","webpack://TourDeFantasy/./src/views/ActivitiesView.vue","webpack://TourDeFantasy/./src/views/ActivitiesView.vue?6656","webpack://TourDeFantasy/./src/views/RoutesView.vue","webpack://TourDeFantasy/./src/views/RoutesView.vue?32f3","webpack://TourDeFantasy/./src/views/StatsView.vue","webpack://TourDeFantasy/./src/components/RideTotal.vue","webpack://TourDeFantasy/./src/components/RideTotal.vue?8c67","webpack://TourDeFantasy/./src/views/StatsView.vue?67db","webpack://TourDeFantasy/./src/views/LogoutView.vue","webpack://TourDeFantasy/./src/views/LogoutView.vue?c889","webpack://TourDeFantasy/./src/views/ProfileView.vue","webpack://TourDeFantasy/./src/views/ProfileView.vue?3e49","webpack://TourDeFantasy/./src/views/JoinLeagueView.vue","webpack://TourDeFantasy/./src/views/JoinLeagueView.vue?6e0f","webpack://TourDeFantasy/./src/views/LeagueHome.vue","webpack://TourDeFantasy/./src/views/LeagueHome.vue?e180","webpack://TourDeFantasy/./src/components/LeaguePreviewPopup.vue","webpack://TourDeFantasy/./src/components/LeaguePreviewPopup.vue?7b71","webpack://TourDeFantasy/./src/views/LeaguePreview.vue","webpack://TourDeFantasy/./src/views/LeaguePreview.vue?de5c","webpack://TourDeFantasy/./src/views/DraftListView.vue","webpack://TourDeFantasy/./src/views/DraftListView.vue?c66b","webpack://TourDeFantasy/./src/views/RosterView.vue","webpack://TourDeFantasy/./src/views/RosterView.vue?e677","webpack://TourDeFantasy/./src/views/RunDraftView.vue","webpack://TourDeFantasy/./src/views/RunDraftView.vue?1793","webpack://TourDeFantasy/./src/views/TradeView.vue","webpack://TourDeFantasy/./src/views/TradeView.vue?c0c3","webpack://TourDeFantasy/./src/views/RunTrade.vue","webpack://TourDeFantasy/./src/views/RunTrade.vue?422d","webpack://TourDeFantasy/./src/views/RunScoresView.vue","webpack://TourDeFantasy/./src/views/RunScoresView.vue?fe14","webpack://TourDeFantasy/./src/views/ByPass.vue","webpack://TourDeFantasy/./src/views/ByPass.vue?1dea","webpack://TourDeFantasy/./src/views/DetailScoresView.vue","webpack://TourDeFantasy/./src/views/DetailScoresView.vue?6ea6","webpack://TourDeFantasy/./src/views/RosterViewOnly.vue","webpack://TourDeFantasy/./src/views/RosterViewOnly.vue?55cc","webpack://TourDeFantasy/./src/views/FullScoresView.vue","webpack://TourDeFantasy/./src/views/FullScoresView.vue?1ca2","webpack://TourDeFantasy/./src/views/RaceMaintenanceView.vue","webpack://TourDeFantasy/./src/views/RaceMaintenanceView.vue?9bcb","webpack://TourDeFantasy/./src/views/AutomationCenterView.vue","webpack://TourDeFantasy/./src/views/AutomationCenterView.vue?3310","webpack://TourDeFantasy/./src/views/CreateLeagueView.vue","webpack://TourDeFantasy/./src/views/CreateLeagueView.vue?6899","webpack://TourDeFantasy/./src/views/NewsfeedView.vue","webpack://TourDeFantasy/./src/views/NewsfeedView.vue?dd26","webpack://TourDeFantasy/./src/views/LiveDraftView.vue","webpack://TourDeFantasy/./src/views/LiveDraftView.vue?1abc","webpack://TourDeFantasy/./src/views/RunLiveDraftView.vue","webpack://TourDeFantasy/./src/views/RunLiveDraftView.vue?902e","webpack://TourDeFantasy/./src/router/index.js","webpack://TourDeFantasy/./src/main.js","webpack://TourDeFantasy/webpack/bootstrap","webpack://TourDeFantasy/webpack/runtime/chunk loaded","webpack://TourDeFantasy/webpack/runtime/compat get default export","webpack://TourDeFantasy/webpack/runtime/define property getters","webpack://TourDeFantasy/webpack/runtime/ensure chunk","webpack://TourDeFantasy/webpack/runtime/get javascript chunk filename","webpack://TourDeFantasy/webpack/runtime/get mini-css chunk filename","webpack://TourDeFantasy/webpack/runtime/global","webpack://TourDeFantasy/webpack/runtime/hasOwnProperty shorthand","webpack://TourDeFantasy/webpack/runtime/load script","webpack://TourDeFantasy/webpack/runtime/make namespace object","webpack://TourDeFantasy/webpack/runtime/publicPath","webpack://TourDeFantasy/webpack/runtime/css loading","webpack://TourDeFantasy/webpack/runtime/jsonp chunk loading","webpack://TourDeFantasy/webpack/startup"],"sourcesContent":["<template>\n  <div id = \"app\">\n      <NavBar/>\n      <AutoBot />\n  </div>\n  <router-view/>\n  <div id=\"footer\">\n      <router-link to=\"/bypass\"><img src=\"api_logo_cptblWith_strava_horiz_light.png\" width = 10%/></router-link> \n  </div>\n</template>\n\n<script>\nimport NavBar from \"./components/NavBar.vue\";\nimport AutoBot from \"./components/AutoBot.vue\"\n\nexport default {\n  name: 'App',\n  components: {\n    NavBar, AutoBot\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\na {\n  color: #198754; /* Bootstrap success color */\n}\n\n/* Optional: Hover and active states */\na:hover,\na:focus,\na:active {\n  color: #157347; /* Darker shade for hover, focus, active states */\n}\n\nnav {\n  padding: 30px;\n}\n\nnav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\nnav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n\n","import { defineStore } from 'pinia';\nimport axios from 'axios';\n\nexport const useAuthStore = defineStore('auth', {\n  state: () => ({\n    user: {},\n    isAuthenticated: false\n  }),\n  actions: {\n    async login(code) {\n      if (code) {\n        console.log(\"requesting jwt \" + code)\n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/callback?code=${code}`);\n        const { access_token } = response.data;\n        localStorage.setItem('token', access_token);\n      }\n      const token = localStorage.getItem('token');\n      console.log(\"getting user info \" + token);\n      const userResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/user/me`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      this.user = userResponse.data;\n      this.isAuthenticated = true;\n    },\n    async impersonate(userid) {\n      if (userid) {\n        const response = await axios.put(`${process.env.VUE_APP_API_BASE_URL}/bypass?user_id=${userid}`, {});\n        const { access_token } = response.data;\n        localStorage.setItem('token', access_token);\n      }\n      const token = localStorage.getItem('token');\n      console.log(\"getting user info \" + token);\n      const userResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/user/me`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      this.user = userResponse.data;\n      this.isAuthenticated = true;\n      \n    },\n    logout() {\n      this.user = {};\n      this.isAuthenticated = false;\n      localStorage.removeItem(\"token\");\n    },\n  },\n});","import { defineStore } from 'pinia';\nimport axios from 'axios';\n\nimport { useLeagueStore } from './league';\n\nexport const useRacerStore = defineStore('racer', {\n  state: () => ({\n    allRacers: [], // this is for trade\n    racers: [], // this is for draft\n    draftList: [] // this is for draft admin\n  }),\n  actions: {\n    async getRacerlist(raceurl) {\n      const token = localStorage.getItem('token');\n      const racerResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/racer/race?race_url=${raceurl}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      const leagueStore = useLeagueStore();\n      const m = new Map();\n      leagueStore.players.forEach( p => {\n        if(p.active_racers) p.active_racers.forEach( r => {m.set(r.url, p.player_strava_id)})\n        if(p.bench_racers) p.bench_racers.forEach( r => {m.set(r.url, p.player_strava_id)})\n      });\n\n      racerResponse.data.forEach( r => {\n        r.player = m.has(r.url)?m.get(r.url):null;\n      });\n\n      this.allRacers = racerResponse.data;\n\n      // update ownership by using League Player information\n      //this.getLeaguePlayers(this.league.id);\n    },\n    async loadDraftlist(raceurl) {\n      const token = localStorage.getItem('token');\n      const racerResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/racer/draftlist?race_url=${raceurl}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      this.racers = racerResponse.data;\n      //this.getLeaguePlayers(this.league.id);\n    },\n    async updateDraftlist(raceurl) {\n      const token = localStorage.getItem('token');\n      await axios.put(`${process.env.VUE_APP_API_BASE_URL}/racer/draftlist?race_url=${raceurl}`, this.racers, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      //this.players = leagueResponse.data;\n    },\n    async getAllDraftlist(league_id) {\n      const token = localStorage.getItem('token');\n      const racerResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/racer/alldraftlists?league_id=${league_id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const leagueStore = useLeagueStore();\n      const leagueplayers = leagueStore.players;\n      const draftlists = racerResponse.data;\n      // clean up\n      draftlists.forEach(list => {\n        list.racer_list.forEach(r => {\n          r.player = null;\n        })\n      });\n      this.draftList = [];\n      leagueplayers.forEach(player => {\n        this.draftList.push(draftlists.find(list => list.user_strava_id == player.player_strava_id));\n      });\n    },\n    insertBefore(racername, beforeRacer) {\n      let r = this.racers.find((rac) => rac.name == racername)\n      let b = this.racers.find((rac) => rac.name == beforeRacer)\n      let pos = this.racers.indexOf(b)\n      let rem = this.racers.indexOf(r)\n  \n      console.log(r + \" \" + b + \" \" + pos + \" \" + rem)\n  \n      this.racers.splice(rem, 1)\n      //console.log(this.racers.length)\n      this.racers.splice(pos, 0, r)\n      //console.log(this.racers.length)\n      //this.racers = []\n    },\n    move(position, direction) {\n      if(position == 0 && direction == 'up') return;\n      if(position == this.racers.length-1 && direction != 'up') return;\n\n      let r = this.racers.splice(position, 1);\n      if(direction == 'top') {\n        this.racers.splice(0, 0, r[0]);\n      }\n      else this.racers.splice(direction=='up'?position-1:position+1, 0, r[0]);\n    },\n  },\n});","import { defineStore } from 'pinia';\nimport axios from 'axios';\nimport { useAuthStore } from './authentication';\nimport { useRacerStore } from './racer';\n\nexport const useLeagueStore = defineStore('league', {\n  state: () => ({\n    league: {},\n    players: [],\n    race: {},\n    leaguePlayer: {},  //current player\n    tradeList: [],\n    scoresForStage: [], // scores for current selected stage\n    stagePlayers: [],\n    announcements: [],\n    allLeagues: [],\n  }),\n  actions: {\n    resetData() {\n      this.players= [];\n      this.race= {};\n      this.leaguePlayer= {}  //current player\n      this.tradeList= []\n      this.scoresForStage= [] // scores for current selected stage\n      this.stagePlayers= []\n      this.announcements= []\n      this.allLeagues= []\n    },\n    async getLeagueList() {\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      this.allLeagues = leagueResponse.data;\n    },\n    getPlayerByStravaId(stravaId){\n      return this.players.find(p => p.player_strava_id == stravaId)\n    },\n    getPlayerPositionByStravaId(stravaId){\n      return this.players.indexOf(this.players.find(p => p.player_strava_id == stravaId))\n    },\n    shuffle() {\n      let currentIndex = this.players.length;\n    \n      // While there remain elements to shuffle...\n      while (currentIndex != 0) {\n    \n        // Pick a remaining element...\n        let randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex--;\n    \n        // And swap it with the current element.\n        [this.players[currentIndex], this.players[randomIndex]] = [\n          this.players[randomIndex], this.players[currentIndex]];\n      }\n    },\n    async submitDraft() {\n        const token = localStorage.getItem('token');\n        await axios.put(`${process.env.VUE_APP_API_BASE_URL}/league/draftresult`, this.players.slice().reverse(), {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        //this.league = leagueResponse.data;\n    },\n    async join(code, nickname) {\n      if (code) {\n        const token = localStorage.getItem('token');\n        const leagueResponse = await axios.put(`${process.env.VUE_APP_API_BASE_URL}/league/join?code=${code}&nickname=${nickname}`, {}, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        this.league = leagueResponse.data;\n        this.resetData();\n      }\n    },\n    async getRace() {\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/race/url?url=${this.league.active_race_url}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      this.race = leagueResponse.data;\n      //this.getLeaguePlayers(this.league.id);\n    },\n    getStageNameByURL(stageurl) {\n      let day = this.race.days.find(d => {d.url == stageurl});\n      if (day) return day.name\n      else return \"--\"\n      //this.getLeaguePlayers(this.league.id);\n    },\n    async getRaceScoreByStage(stageUrl) {\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/racerScore/search?stage=${stageUrl}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      this.scoresForStage = leagueResponse.data;\n\n      let racerToAwardsMap = Map.groupBy(this.scoresForStage, ({racer}) => racer);\n      const racerStore = useRacerStore();\n      let stagePlayers = this.players.slice();\n      stagePlayers.forEach( p => {\n        if (p.stage_scores && p.stage_scores.find(s => s.stage_url == stageUrl)) {\n          p.stageRacers=p.stage_scores.find(s => s.stage_url == stageUrl).racers.slice();\n        }\n        else p.stageRacers = p.active_racers.slice();\n        p.stageRacers.forEach(r => {\n          r.scores = null;\n          if(racerToAwardsMap.has(r.url)) {\n            r.scores = racerToAwardsMap.get(r.url);\n            racerToAwardsMap.delete(r.url);\n          }\n        });\n      })\n      const dummyPlayer = {player_nickname: \"N/A\", stageRacers: []};\n      racerToAwardsMap.forEach((scores, racerurl) => {\n        let racer = structuredClone(racerStore.allRacers.find(r => r.url == racerurl));\n        racer.scores = scores;\n        dummyPlayer.stageRacers.push(racer);\n      })\n      stagePlayers.push(dummyPlayer);\n\n      let bonus = [0, 0, 20, 30, 50]\n      // calculate total score for the stage\n      stagePlayers.forEach(p => {\n        p.stageScore = 0;\n        p.jerseys = [];\n        p.stageRacers.forEach(r => {\n          if (!r.scores) return;\n          r.scores.forEach(s => {\n            p.stageScore += s.point;\n            if (s.point ==0) p.jerseys.push(s.category);\n          })\n        })\n        p.stageScore += bonus[p.jerseys.length];\n      })\n      this.stagePlayers = stagePlayers;\n    },\n    async submitStageScore(stageurl) {\n\n      let maxScore = 0;\n      let maxPerson = null;\n      console.log(\"Calculating score for players: \" + this.players)\n      this.players.forEach( p => {\n        let ss = {\n          stage_url: stageurl,\n          total_score: p.stageScore,\n          racers: p.stageRacers\n        }\n        if(p.stageScore > maxScore) {\n          maxScore = p.stageScore;\n          maxPerson = p.player_nickname;\n        }\n        if(!p.stage_scores) p.stage_scores = [];\n        let idx = p.stage_scores.findIndex(s => s.stage_url == stageurl);\n        if( idx != -1) p.stage_scores.splice(idx, 1, ss);\n        else p.stage_scores.push(ss);\n\n        p.current_score = p.stage_scores.reduce((n, {total_score}) => n + total_score, 0);\n\n        const token = localStorage.getItem('token');\n        axios.put(`${process.env.VUE_APP_API_BASE_URL}/league/leagueplayers`, \n          p, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        p.stageScore = 0;\n        p.stageRacers = [];\n      })\n\n      // post announcement\n      console.log(this.race.days)\n      let message =  \"New scores are in! <strong>\" + maxPerson + \"</strong> scored \" + maxScore;  \n      const token = localStorage.getItem('token');\n      await axios.post(`${process.env.VUE_APP_API_BASE_URL}/league/announcement`, {\"message\": message, \"expiration\": Date.now()+10800000, \"league_id\": this.league.id}, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }); \n    },\n    async loadLeague(leagueId) {\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league/id/${leagueId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      this.league = leagueResponse.data;\n      this.resetData();\n      //this.getLeaguePlayers(this.league.id);\n    },\n    async getLeaguePlayers(leagueId) {\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league/${leagueId}/players`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const auth = useAuthStore();\n      this.leaguePlayer = leagueResponse.data.find((player) => {return player.player_strava_id == auth.user.strava_id});\n      //console.log(\"PLAYER: \" + this.leaguePlayer.active_racers);\n      // sort by draft order\n      let sortedPlayers = [leagueResponse.data.length];\n      leagueResponse.data.forEach(p => {\n        sortedPlayers[this.league.players.indexOf(p.player_strava_id)] = p;\n        // sort stage scores newest first\n        if(p.stage_scores) p.stage_scores.sort((a,b) => parseInt(b.stage_url.substring(b.stage_url.lastIndexOf(\"-\")+1)) -  parseInt(a.stage_url.substring(a.stage_url.lastIndexOf(\"-\")+1)));\n      });\n      this.players = sortedPlayers;\n      console.log(\"Players retrieved: \" + this.players)\n    },\n    moveRoaster(racername, target) {\n      let allRacers = this.leaguePlayer.active_racers.concat(this.leaguePlayer.bench_racers);\n      let r = allRacers.find((rac) => rac.name == racername)\n      if(this.leaguePlayer.active_racers) {\n        this.leaguePlayer.active_racers = this.leaguePlayer.active_racers.filter((racer) => {console.log(racer.name == racername);  return racer.name !== racername})\n      } else this.leaguePlayer.active_racers = []\n      if(this.leaguePlayer.bench_racers) {\n        this.leaguePlayer.bench_racers = this.leaguePlayer.bench_racers.filter((racer) => racer.name !== racername)\n        //console.log(this.leaguePlayer.active_racers)\n      } else this.leaguePlayer.bench_racers = []\n      if (target == 'active') {\n        this.leaguePlayer.active_racers.push(r);\n      } else {\n        this.leaguePlayer.bench_racers.push(r);\n      }\n    },\n    async submitRoaster() {\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.put(`${process.env.VUE_APP_API_BASE_URL}/league/leagueplayers`, this.leaguePlayer, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n        //this.league = leagueResponse.data;\n      console.log(\"submit roaster: \" + leagueResponse)\n\n      await axios.post(`${process.env.VUE_APP_API_BASE_URL}/league/announcement`, {\"message\": \"<strong>\" + this.leaguePlayer.player_nickname + \"</strong> updated roster!\", \"expiration\": Date.now()+10800000, \"league_id\": this.league.id}, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });   \n      if (leagueResponse.status == 200) alert(\"Roster change successful.\");   \n    },\n    async submitTrade(fromRacer, toRacer) {\n      fromRacer.player = this.leaguePlayer.player_strava_id.toString();\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.post(`${process.env.VUE_APP_API_BASE_URL}/league/trade?league_id=${this.league.id}`, {\"fromRacer\": fromRacer, \"toRacer\": toRacer}, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      this.tradeList = leagueResponse.data\n\n      await axios.post(`${process.env.VUE_APP_API_BASE_URL}/league/announcement`, {\"message\": \"<strong>\" + this.leaguePlayer.player_nickname + \"</strong> submitted a trade request!\", \"expiration\": Date.now()+10800000, \"league_id\": this.league.id}, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }); \n    },\n    async getTradeRequests() {\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league/traderequests?league_id=${this.league.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      let tradeList = leagueResponse.data.slice();\n      tradeList.sort( (a, b) => {\n        let r = a.toRacer.ranking - b.toRacer.ranking;\n        if (r == 0) {\n          let pb = this.players.indexOf(this.players.find( player => player.player_strava_id == b.player_strava_id));\n          let pa = this.players.indexOf(this.players.find( player => player.player_strava_id == a.player_strava_id));\n          return pa-pb;\n        } else return r;\n      });\n\n      // select trade\n      const tradedRacer = [];\n      const tradedPlayer = [];\n      tradeList.forEach(trade => {\n        if (tradedRacer.findIndex(tr => tr.url == trade.toRacer.url) == -1 && tradedPlayer.indexOf(trade.player_strava_id) == -1) {\n          tradedRacer.push(trade.toRacer);\n          tradedPlayer.push(trade.player_strava_id);\n          trade.selected = true;\n        }\n      });\n      this.tradeList = tradeList;\n    },\n    async getMultiTradeRequests() {\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league/traderequests?league_id=${this.league.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      let tradeList = leagueResponse.data.slice();\n\n      const tradePriority = this.league.players.slice();\n      const map = Map.groupBy(tradeList, ({player_strava_id}) => player_strava_id);\n      //let tLists = Array(this.players.length).fill([]);\n\n      const tradedRacers = [];\n      while(map.size>0){\n        tradePriority.forEach((p) => {\n          let requestList = map.get(p);\n          if(requestList) {\n            while(requestList.length){\n              let request = requestList.shift();\n              //console.log(request.player_strava_id + \" \" + request.fromRacer.name + \" >> \" + request.toRacer.name);\n              //console.log(tradedRacers);\n              if( !(tradedRacers.includes(request.toRacer.url)) && !(tradedRacers.includes(request.fromRacer.url)) ){\n                tradedRacers.push(request.fromRacer.url);\n                tradedRacers.push(request.toRacer.url);\n                request.selected = true;\n                break;\n              }\n              \n            }\n            if(requestList.length ==0) map.delete(p);\n          }\n        });\n      }\n\n      this.tradeList = tradeList;\n    },\n    async cancelTradeRequest(id){\n      const token = localStorage.getItem('token');\n      await axios.delete(`${process.env.VUE_APP_API_BASE_URL}/league/canceltrade?id=${id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      await this.getTradeRequests();\n    },\n    async completeTradeRequests() {\n      let tradedPlayer = []\n      let accepted = this.tradeList.filter( req => req.selected);\n      accepted.forEach(req => {\n        let p = this.players.find( pr => pr.player_strava_id == req.player_strava_id)\n        let rlist = p.active_racers.findIndex(ar => ar.url == req.fromRacer.url) == -1?p.bench_racers:p.active_racers;\n        rlist.splice(rlist.findIndex(ar => ar.url == req.fromRacer.url), 1, req.toRacer);\n        tradedPlayer.push(p);\n      });\n      tradedPlayer.sort((a, b) => { this.league.players.indexOf(b.player_strava_id) - this.league.players.indexOf(a.player_strava_id)})\n      tradedPlayer.forEach( p => {\n        this.players.splice(this.players.indexOf(p), 1);\n        this.players.push(p);\n      })\n\n      const token = localStorage.getItem('token');\n      await axios.put(`${process.env.VUE_APP_API_BASE_URL}/league/completetrade`, \n        {\"accepted\": accepted, \"players\": this.players}, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      // post announcement\n      let message = accepted.length>0? \"Trade results: <br>\":\"No trade completed.\"\n      accepted.forEach( req => {\n        message = message.concat(\"<strong>\" +this.getPlayerByStravaId(req.player_strava_id).player_nickname + \"</strong> acquired <strong>\" + req.toRacer.name + \"</strong><br>\");\n      })\n      await axios.post(`${process.env.VUE_APP_API_BASE_URL}/league/announcement`, {\"message\": message, \"expiration\": Date.now()+10800000, \"league_id\": this.league.id}, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }); \n    },\n    async getAnnouncements(){\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league/newannouncements?league_id=${this.league.id}&expiration=${Date.now()}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      this.announcements = leagueResponse.data;\n    },\n    async getAllAnnouncements() {\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league/announcements?league_id=${this.league.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      this.announcements = leagueResponse.data;\n    },\n    parseChunk(chunk) {\n        // Events are separated by two newlines\n      const events = chunk.split(/\\r\\n\\r\\n|\\r\\r|\\n\\n/g);\n      if (events.length === 0) return;\n      const eventList = [];\n\n      for (const eventChunk of events) {\n          let eventType = '';\n          // Split up by single newlines.\n          const lines = eventChunk.split(/\\n|\\r|\\r\\n/g);\n          let eventData = '';\n          for (const line of lines) {\n              const lineMatch = /([^:]+)(?:: ?(.*))?/.exec(line);\n              if (lineMatch) {\n                  const field = lineMatch[1];\n                  const value = lineMatch[2] || '';\n\n                  switch (field) {\n                      case 'event':\n                          eventType = value;\n                          break;\n                      case 'data':\n                          eventData += value;\n                          eventData += '\\n';\n                          break;\n                      case 'id':\n                          // The ID field cannot contain null, per the spec\n                          if (!value.includes('\\0')) this.lastEventId = value;\n                          break;\n                      // We do nothing for the `delay` type, and other types are explicitly ignored\n                  }\n              }\n          }\n\n\n          // https://html.spec.whatwg.org/multipage/server-sent-events.html#dispatchMessage\n          // Skip the event if the data buffer is the empty string.\n          if (eventData === '') continue;\n\n          if (eventData[eventData.length - 1] === '\\n') {\n              eventData = eventData.slice(0, -1);\n          }\n\n          eventList.push({eventType: eventType, data: eventData});\n      }\n      return eventList;\n    }\n  },\n});","<template>\n  <nav class=\"navbar navbar-expand-lg bg-dark border-bottom border-body\" data-bs-theme=\"dark\">\n    <div class=\"container-fluid\">\n    <a class=\"navbar-brand\" href=\"#\">TourDeFantasy</a>\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n      <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n        <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/leaguehome\">Home</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link class=\"nav-link\" to=\"/leaguepreview\">League Preview</router-link>\n        </li>\n        <li v-if=\"authStore.isAuthenticated\" class=\"nav-item dropdown\">\n          <a class=\"nav-link dropdown-toggle\" href=\"#\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" @click=\"getMyLeaguePlayers\">\n            Leagues\n          </a>\n          <ul class=\"dropdown-menu\">\n            <li><router-link class=\"dropdown-item\" to=\"/createleague\">Create League</router-link> </li>\n            <li><router-link class=\"dropdown-item\" to=\"/joinleague\">Join League</router-link></li>\n            <li v-for=\"p in myLeaguePlayers\" :key=\"p\">\n              <router-link class=\"dropdown-item\" :to=\"{ path: '/joinleague', query: { leagueId: p.league_id, nickname:p.player_nickname }}\" > &rarr; {{p.player_nickname}}</router-link>\n            </li>\n            <li><router-link class=\"dropdown-item\" to=\"/livedraft\">Draft Party</router-link> </li>\n          </ul>\n        </li>        \n        <li v-if=\"authStore.isAuthenticated && leagueStore.leaguePlayer.active_racers\" class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/roster\">Roster</router-link>\n        </li>\n        <!--li v-if=\"authStore.isAuthenticated\" class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/draftlist\">Draft</router-link>\n        </li-->\n        <li v-if=\"authStore.isAuthenticated\" class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/fullscores\">Full Scores</router-link>\n        </li>\n        <li v-if=\"authStore.isAuthenticated && [13,14,15,16,17,18,19,20,21].includes(new Date().getHours())\" class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/trade\">Trade</router-link>\n        </li>\n        <li v-if=\"authStore.isAuthenticated && authStore.user.username!='impersonate'\" class=\"nav-item dropdown\">\n          <a class=\"nav-link dropdown-toggle\" href=\"#\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n            Profile\n          </a>\n          <ul class=\"dropdown-menu\">\n            <li><router-link class=\"dropdown-item\" to=\"/profile\">Info</router-link> </li>\n            <li><router-link class=\"dropdown-item\" to=\"/stats\">Stats</router-link> </li>\n            <li><router-link class=\"dropdown-item\" to=\"/activities\">Activities</router-link> </li>\n            <li><router-link class=\"dropdown-item\" to=\"/routes\">Routes</router-link> </li>\n          </ul>\n        </li>\n        <li v-if=\"authStore.isAuthenticated && authStore.user.roles.includes('admin')\" class=\"nav-item dropdown\">\n          <a class=\"nav-link dropdown-toggle\" href=\"#\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n            Admin\n          </a>\n          <ul class=\"dropdown-menu\">\n            <li><router-link class=\"dropdown-item\" to=\"/racecenter\">Race Center</router-link> </li>\n            <li><router-link class=\"dropdown-item\" to=\"/rundraft\">Run Draft</router-link> </li>\n            <li><router-link class=\"dropdown-item\" to=\"/runtrade\">Run Trade</router-link> </li>\n            <li><router-link class=\"dropdown-item\" to=\"/runscore\">Run Score</router-link> </li>\n            <li><router-link class=\"dropdown-item\" to=\"/autocenter\">Automation Center</router-link> </li>\n            <li><router-link class=\"dropdown-item\" to=\"/createleague\">Create League</router-link> </li>\n            <li><router-link class=\"dropdown-item\" to=\"/runlivedraft\">Run Draft Party</router-link> </li>\n          </ul>\n        </li>\n        <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/about\">Rules</router-link>\n        </li>\n        <li v-if=\"authStore.isAuthenticated\" class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/logout\">Logout</router-link>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav>\n  </template>\n  \n<script setup>\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\n\nimport { useAuthStore } from '@/stores/authentication';\nimport { useLeagueStore } from '@/stores/league';\n\nconst authStore = useAuthStore();\nconst leagueStore = useLeagueStore();\n\nconst myLeaguePlayers = ref([]);\nconst getMyLeaguePlayers = async () => {\n  const token = localStorage.getItem('token');\n  const playerResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league/leagueplayers`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  myLeaguePlayers.value = playerResponse.data.slice().filter( p => p.player_strava_id == authStore.user.strava_id);\n};\n\nonMounted( () => {\n\n});\n</script>\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>","import script from \"./NavBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineStore } from 'pinia';\n\nexport const useAutoStore = defineStore('auto', {\n  state: () => ({\n    tasks: [],\n    currentTask: null,\n    isAutoMode: false\n  }),\n  actions: {\n    flip() {\n      this.isAutoMode = !this.isAutoMode;\n    },\n    startTask() {\n      if (this.currentTask) return null;\n      let task = this.tasks.find(t => { return !t.completed && new Date()>t.time});\n      if (task) {\n        this.currentTask = task;\n        task.inProgress = true;\n      }\n      console.log(\"return \" + task);\n      return task;\n    },\n    completeTask() {\n      this.currentTask.completed = true;\n      this.currentTask = null;\n    }\n  },\n});","<template>\n  <h1 v-if=\"autoStore.isAutoMode\" style=\"color:red;\"><b>Auto</b></h1>\n</template>\n\n<script setup>\nimport { onMounted, ref } from 'vue';\nimport { useRouter } from 'vue-router'\nimport { useAutoStore } from '@/stores/automation';\n\nconst autoStore = useAutoStore();\nconst router = useRouter();\n\nconst timeoutId = ref(0);\n\nconst autopilot = () => {\n  if (autoStore.isAutoMode) {\n    // look for next task\n    let task = autoStore.startTask();\n    console.log(\"found task: \" + task);\n    if(task) router.push(task.path);    \n  }\n};\n\nonMounted(async () => {\n  let id = setInterval(autopilot, 1000*60*5);\n  console.log(`autobot ${id} is loaded.`)\n  timeoutId.value = id;\n});\n\n</script>\n\n","import script from \"./AutoBot.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AutoBot.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=2cc69720\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2cc69720&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div id=\"intro\" class=\"bg-image shadow-2-strong\">\n      <div class=\"container d-flex align-items-center justify-content-center text-center h-100\">\n        <div class=\"card text-bg-dark w-50 w-md-50\">\n  <h2 class=\"card-header\">Sign In</h2>\n  <div class=\"card-body\">\n    <button class=\"btn\" @click=\"login\"><img src=\"btn_strava_connectwith_orange.png\" class=\"img-fluid\"></button>\n  </div>\n</div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\n\nimport { useAuthStore } from '@/stores/authentication';\nimport { useLeagueStore } from '@/stores/league';\nexport default {\n\n  async created(){\n    const token = localStorage.getItem('token');\n    if(token) {\n      console.log(\"getting user info \" + token);\n      try {\n        const authStore = useAuthStore()\n        const leagueStore = useLeagueStore()\n\n        await authStore.login()\n        if (authStore.user.current_league_id) {\n          await leagueStore.loadLeague(authStore.user.current_league_id);\n          this.$router.push({ name: 'LeagueHome'});\n        } else {\n          this.$router.push({ name: 'JoinLeague' });\n        }\n      } catch (error) {\n        console.error('Error during auto login:', error);\n        localStorage.removeItem('token');\n      }\n    }\n  },\n\n  methods: {\n    login() {\n      window.location.href = `${process.env.VUE_APP_API_BASE_URL}/login`;\n    }\n  }\n}\n</script>\n\n<style scoped>\n    #intro {\n      background-image: url(\"/public/background_image.jpg\");\n      background-repeat: no-repeat;\n      background-size: cover;\n      background-position: center;\n      height: 100vh;\n    }\n\n  .btn img {\n    max-width: 100%;\n  }\n\n    /* Height for devices larger than 576px */\n    @media (min-width: 992px) {\n      #intro {\n        margin-top: -58.59px;\n      }\n    }\n</style>","import { render } from \"./LoginView.vue?vue&type=template&id=23c4ca94&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=23c4ca94&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-23c4ca94\"]])\n\nexport default __exports__","<template>\n  <div>\n    <p>Logging in...</p>\n  </div>\n</template>\n\n<script>\nimport { useAuthStore } from '@/stores/authentication';\nimport { useLeagueStore } from '@/stores/league';\n\nexport default {\n  async created() {\n    const params = new URLSearchParams(window.location.search);\n    const code = params.get('code');\n\n    if (code) {\n      try {\n        const authStore = useAuthStore()\n        const leagueStore = useLeagueStore()\n\n        await authStore.login(code)\n        if (authStore.user.current_league_id) {\n          await leagueStore.loadLeague(authStore.user.current_league_id);\n          this.$router.push({ name: 'LeagueHome'});\n        } else {\n          this.$router.push({ name: 'JoinLeague' });\n        }\n      } catch (error) {\n        console.error('Error during callback:', error);\n      }\n    }\n  }\n}\n</script>","import { render } from \"./CallbackView.vue?vue&type=template&id=4a691fd2\"\nimport script from \"./CallbackView.vue?vue&type=script&lang=js\"\nexport * from \"./CallbackView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>My Activities</h1>\n    <ul>\n      <li v-for=\"activity in activities\" :key=\"activity.id\">\n        {{ activity.name }}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      activities: []\n    };\n  },\n  async created() {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      this.$router.push({ name: 'Login' });\n    } else {\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/activities`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        this.activities = response.data;\n      } catch (error) {\n        console.error('Error fetching activities:', error);\n        this.$router.push({ name: 'Login' });\n      }\n    }\n  }\n}\n</script>","import { render } from \"./ActivitiesView.vue?vue&type=template&id=1eda10d6\"\nimport script from \"./ActivitiesView.vue?vue&type=script&lang=js\"\nexport * from \"./ActivitiesView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>My Routes</h1>\n    <table>\n      <tr>\n        <th>Name</th><th>Distance</th><th>Elevation</th>\n      </tr>\n      <tr v-for=\"route in routes\" :key=\"route.id\">\n        <td>{{ route.name }}</td><td>{{ route.distance }}</td><td>{{ route.elevation_gain }}</td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      routes: []\n    };\n  },\n  async created() {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      this.$router.push({ name: 'Login' });\n    } else {\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/routes`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        this.routes = response.data;\n      } catch (error) {\n        console.error('Error fetching routes:', error);\n        this.$router.push({ name: 'Login' });\n      }\n    }\n  }\n}\n</script>","import { render } from \"./RoutesView.vue?vue&type=template&id=eb950d22\"\nimport script from \"./RoutesView.vue?vue&type=script&lang=js\"\nexport * from \"./RoutesView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>My Stats</h1>\n      <RideTotal title=\"All Time\" :rideTotals=\"allTimeTotals\" />\n      <RideTotal title=\"Last 4 Weeks\" :rideTotals=\"recentTotals\" />\n      <RideTotal title=\"This year\" :rideTotals=\"yearTotals\" />\n      <table>\n        <tr><td>Longest distance</td><td>{{ stats.biggest_ride_distance }}</td></tr>\n        <tr><td>Most elevation</td><td>{{ stats.biggest_climb_elevation_gain }}</td></tr>\n      </table>\n  </div>\n</template>\n\n<script>\nimport RideTotal from '@/components/RideTotal.vue';\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      stats: {},\n      allTimeTotals: {},\n      recentTotals: {},\n      yearTotals: {}\n    };\n  },\n  components: {\n    RideTotal\n  },\n  async created() {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      this.$router.push({ name: 'Login' });\n    } else {\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/stats`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        this.stats = response.data;\n        this.allTimeTotals = response.data.all_ride_totals\n        this.recentTotals = response.data.recent_ride_totals\n        this.yearTotals = response.data.ytd_ride_totals\n      } catch (error) {\n        console.error('Error fetching stats:', error);\n        this.$router.push({ name: 'Login' });\n      }\n    }\n  }\n}\n</script>","<template>\n  <div>\n    <h3>{{title}}</h3>\n      <table>\n        <tr>\n          <th>Activities</th>\n          <th>Distance</th>\n          <th>Elev Gain</th>\n          <th>Time</th>\n        </tr>\n        <tr>\n          <td>{{rideTotals.count}}</td>\n          <td>{{ rideTotals.distance }}</td>\n          <td>{{ rideTotals.elevation_gain }}</td>\n          <td>{{ rideTotals.moving_time }}</td>\n        </tr>\n      </table>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    title: String,\n    rideTotals: Object\n  }\n}\n</script>","import { render } from \"./RideTotal.vue?vue&type=template&id=d483e528\"\nimport script from \"./RideTotal.vue?vue&type=script&lang=js\"\nexport * from \"./RideTotal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatsView.vue?vue&type=template&id=18042f44\"\nimport script from \"./StatsView.vue?vue&type=script&lang=js\"\nexport * from \"./StatsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <p>Logging out...</p>\n  </div>\n</template>\n\n<script>\nimport { useAuthStore } from '@/stores/authentication';\n\nexport default {\n  async created() {\n        const authStore = useAuthStore()\n        authStore.logout()\n        this.$router.push({ name: 'Login' });\n  }\n}\n</script>","import { render } from \"./LogoutView.vue?vue&type=template&id=e035d1ea\"\nimport script from \"./LogoutView.vue?vue&type=script&lang=js\"\nexport * from \"./LogoutView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>My Profile</h1>\n      <table>\n        <tr><td>User Name</td><td>{{ user.username }}</td></tr>\n        <tr><td>First Name</td><td>{{ user.firstname }}</td></tr>\n        <tr><td>Last Name</td><td>{{ user.lastname }}</td></tr>\n        <tr><td>Location</td><td>{{ user.city }}, {{ user.state }}</td></tr>\n        <tr><td>Roles</td><td>{{ user.roles }}</td></tr>\n        <tr><td>Roles</td><td>\n          <ul>\n            <li v-for=\"r in userRoles\" :key=\"r.id\">\n              <input type=\"checkbox\" :id=\"r\" :value=\"r\" v-model=\"user.roles\" disabled=\"disabled\">\n              <label :for=\"r.id\">{{r}}</label>\n            </li>\n          </ul>\n        </td></tr>\n        <tr><td>Profile Pic</td><td><img v-bind:src=\"user.profile_pic\" /></td></tr>\n      </table>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { useAuthStore } from '@/stores/authentication';\nconst authStore = useAuthStore()\n\nconst user = ref(authStore.user)\n/*const login = () => {\n  authStore.login();\n};*/\n\nconst userRoles = [\"user\", \"super\", \"admin\"]\n\nonMounted(() => {\n  //login();\n});\n</script>","import script from \"./ProfileView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProfileView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div>\n    <h1 class = \"mt-4\">Join League</h1>\n    <form>\n      <div class=\"container px-4 text-center\">\n        <div class=\"row gx-5 mb-3\">\n          <div class=\"col\">\n      <label for=\"inputPassword\" class=\"form-label\">League Password</label>\n      <input v-model=\"code\" class=\"form-control\" id=\"inputPassword\" aria-describedby=\"emailHelp\">\n    </div>\n        </div>\n        <div class=\"row gx-5 mb-3\">\n          <div class=\"col\">\n    <label for=\"exampleInputPassword1\" class=\"form-label\">Nickname</label>\n    <input v-model=\"nickname\" class=\"form-control\" id=\"exampleInputPassword1\">\n  </div>\n        </div>\n        <div class=\"row gx-5\">\n          <div class=\"col\">\n  <button @click.prevent=\"join\" class=\"btn btn-success\">Join</button>\n          </div>\n          </div>\n      </div>\n</form>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport { useAuthStore } from '@/stores/authentication';\nimport { useLeagueStore } from '@/stores/league';\nconst authStore = useAuthStore()\nconst router = useRouter()\nconst leagueStore = useLeagueStore();\n\nconst user = ref(authStore.user)\nconst code = ref(\"\");\nconst nickname = ref(\"\");\n\nconst join = async () => {\n  //console.log(\"click - \" + code + \" - \" + nickname);\n  //console.log(\"router: \" + router);\n  await leagueStore.join(code.value, nickname.value, user.value.strava_id);\n  router.push({ name: 'LeagueHome' });\n};\n//const userRoles = [\"user\", \"super\", \"admin\"]\n\nonMounted(async () => {\n  const leagueid = new URLSearchParams(window.location.search).get('leagueId');\n  if(leagueid) {\n    const nickname = new URLSearchParams(window.location.search).get('nickname');\n    const token = localStorage.getItem('token');\n    const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league/id/${leagueid}`, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    await leagueStore.join(leagueResponse.data.password, nickname, user.value.strava_id);\n    router.push({ name: 'LeagueHome' });\n  }\n});\n</script>\n\n<style scoped>\n  </style>","import script from \"./JoinLeagueView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./JoinLeagueView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div>\n    <h1 class = \"mt-4\">{{ league.name }}</h1>\n    <!-- Button trigger modal -->\n      <button type=\"button\" class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n        League Info\n      </button>\n\n<!-- Modal -->\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">League Info</h1>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <table>\n        <tr><td>Id</td><td>{{league.id}}</td></tr>\n        <tr><td>Name</td><td>{{ league.name }}</td></tr>\n        <tr><td>Password</td><td>{{ league.password }}</td></tr>\n        <tr><td>Active Race</td><td><a v-bind:href=\"league.active_race_url\" target=\"prosite\">{{ league.activeRace }}</a></td></tr>\n      </table>\n      </div>\n    </div>\n  </div>\n</div>\n<router-link class=\"nav-link text-decoration-none\" to=\"/newsfeed\">\n  <h3 class=\" mt-4 text-success\" style=\"text-decoration: underline;\" >Newsfeed</h3>\n</router-link>\n<div v-if=\"announcements.length != 0\">\n  <div class=\"container w-75 h-50\">\n    <div class=\"announcements-container\">\n        <div v-for=\"a in announcements\" :key=\"a\" class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n          <span v-html=\"a.message\"></span>\n        </div>\n    </div>\n  </div>\n</div>\n<table class=\"table mt-4\">\n  <thead>\n    <tr>\n      <th scope=\"col\">#</th>\n      <th scope=\"col\">Username</th>\n      <th scope=\"col\">Points</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr v-for=\"(player,index) in players\" :key=\"player.player_strava_id\">\n            <td>{{ index + 1}}</td>\n            <td v-if=\"player.player_strava_id != leagueStore.leaguePlayer.player_strava_id\"><router-link :to=\"{ path: '/rosterview', query: { userId: player.player_strava_id }}\" > {{ player.player_nickname }} </router-link></td>\n            <td v-else><router-link :to=\"{ path: '/roster'}\" > {{ player.player_nickname }} </router-link></td>\n            <td><router-link :to=\"{ path: '/detailscore', query: { userId: player.player_strava_id }}\" > {{ player.current_score }} </router-link></td>\n    </tr>\n  </tbody>\n</table>\n  </div>\n</template>\n\n\n\n<script setup>\nimport { computed, ref, onMounted } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\nconst leagueStore = useLeagueStore()\n\nconst league = ref(leagueStore.league);\nconst players = computed(() => {\n\n  let copy = leagueStore.players.slice();\n  copy.sort((a,b) => {return b.current_score - a.current_score});\n\n  //console.log(JSON.stringify(copy));\n  return copy//leagueStore.players//.slice().sort((a,b) => a.current_score - b.current_score);\n});\n\nconst announcements = computed(() => {\n  return leagueStore.announcements.slice().reverse();\n})\n\nconst getPlayers = leagueStore.getLeaguePlayers;\nonMounted(() => {\n  getPlayers(league.value.id);\n  leagueStore.getRace();\n  leagueStore.getAnnouncements();\n});\n\n\n</script>\n\n<style scoped>\n.announcements-container {\n  height: 220px;\n  overflow-y: auto;\n}\n\nrouter-link {\n  color: #198754; /* Bootstrap success color */\n}\n\n/* Optional: Hover and active states */\na:hover,\na:focus,\na:active,\nrouter-link:hover,\nrouter-link:focus,\nrouter-link:active {\n  color: #157347; /* Darker shade for hover, focus, active states */\n}\n\n</style>","import script from \"./LeagueHome.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LeagueHome.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LeagueHome.vue?vue&type=style&index=0&id=0296de82&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0296de82\"]])\n\nexport default __exports__","<template>\n  <div v-if =\"stageNameMaps\">\n  <table class=\"table mt-4\">\n    <thead>\n    <tr>\n        <th scope=\"col\">#</th>\n        <th scope=\"col\">Username</th>\n        <th scope=\"col\">Points</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr v-for=\"(player,index) in sortedPlayers\" :key=\"index\">\n      <td>{{ index + 1}}</td>\n      <td><button type=\"button\" class=\"btn btn-link p-0 m-0\" data-bs-toggle=\"modal\" :data-bs-target=\"'#'+player.player_strava_id\">{{ player.player_nickname }}</button></td>\n        <div class=\"modal fade\" :id=\"player.player_strava_id\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n          <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">{{player.player_nickname}}'s Roster</h1>\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" @click=\"closeModal\" aria-label=\"Close\"></button>\n              </div>\n              <div class=\"modal-body\">\n                <div class=\"d-flex justify-content-center mt-3\">\n                  <table>\n                    <tr>\n                      <td>\n                        <div>\n                          <ul class=\"list-group\">\n                            <li\n                              v-for=\"racer in player.active_racers\"\n                              :key=\"racer.id\"\n                              class=\"list-group-item d-flex justify-content-between align-items-center\"\n                            >\n                              <div class=\"d-flex align-items-center\">\n                                <div class=\"image-parent\">\n                                  <img src=\"blank-profile-picture.png\" class=\"img-fluid\" alt=\"Racer Image\">\n                                </div>\n                                <div class=\"content-wrapper\">\n                                  <a :href=\"racer.url\" target=\"prosite\"><strong>{{ racer.name }}</strong></a>\n                                  <p v-if=\"racer.specialties.length > 0\"> {{ racer.specialties.join(', ') }}</p>\n                                  <p v-else> None</p>\n                                </div>\n                              </div>\n                            </li>\n                          </ul>\n                        </div>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <div>\n                          <ul class=\"list-group\">\n                            <li\n                              v-for=\"racer in player.bench_racers\"\n                              :key=\"racer.id\"\n                              class=\"list-group-item list-group-item-secondary d-flex justify-content-between align-items-center\"\n                            >\n                              <div class=\"d-flex align-items-center\">\n                                <div class=\"image-parent\">\n                                  <img src=\"blank-profile-picture.png\" class=\"img-fluid\" alt=\"Racer Image\">\n                                </div>\n                                <div class=\"content-wrapper\">\n                                  <a :href=\"racer.url\" target=\"prosite\"><strong>{{ racer.name }}</strong></a>\n                                  <p v-if=\"racer.specialties.length > 0\">{{ racer.specialties.join(', ') }}</p>\n                                  <p v-else> None</p>\n                                </div>\n                              </div>\n                              <div class=\"btn-group ms-2\" role=\"group\" aria-label=\"Basic example\">\n                              </div>\n                            </li>\n                          </ul>\n                        </div>\n                      </td>\n                    </tr>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      <td><button type=\"button\" class=\"btn btn-link p-0 m-0\" data-bs-toggle=\"modal\" :data-bs-target=\"'#'+player.id\">{{ player.current_score }}</button></td>\n        <div class=\"modal fade\" :id=\"player.id\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel2\" aria-hidden=\"true\">\n          <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel2\">Scores for {{ player.player_nickname }}</h1>\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div class=\"modal-body\">\n                <div v-for=\"stage in player.stage_scores\" :key=\"stage\">\n                  <h2><a v-bind:href=\"stage.stage_url\" target=\"prosite\">{{stageNameMaps.get(stage.stage_url)[0].name}}</a></h2>\n                  <table class=\"table\">\n                    <thead>\n                          <tr>\n                            <th scope=\"col\">Racer</th>\n                            <th scope=\"col\">Points Earned</th>\n                            <th scope=\"col\">How Earned</th>\n                          </tr>\n                        </thead>\n                    <tbody>\n                      <tr v-for=\"(racer) in stage.racers\" :key=\"racer.url\">\n                        <td><b>{{ racer.name }}</b>\n                          <span v-if=\"scoresMap.get(stage.stage_url)\">\n                            <span v-for=\"s in scoresMap.get(stage.stage_url).get(racer.url)\" :key=\"s\">\n                              <span v-if=\"s.category === 'white'\">\n                                <img src=\"/white.png\" alt=\"White Jersey\" style=\"width: 20px; height: 20px;\" />\n                              </span>\n                              <span v-if=\"s.category === 'yellow'\">\n                                <img src=\"/yellow.png\" alt=\"Yellow Jersey\" style=\"width: 20px; height: 20px;\" />\n                              </span>\n                              <span v-if=\"s.category === 'green'\">\n                                <img src=\"/green.png\" alt=\"Green Jersey\" style=\"width: 20px; height: 20px;\" />\n                              </span>\n                              <span v-if=\"s.category === 'polkadot'\">\n                                <img src=\"/polkadot.png\" alt=\"Polka-dot Jersey\" style=\"width: 20px; height: 20px;\" />\n                              </span>\n                            </span>\n                          </span>\n                        </td>\n                        <td>\n                          <div v-if=\"scoresMap.get(stage.stage_url)\">\n                            <div v-for=\"s in scoresMap.get(stage.stage_url).get(racer.url)\" :key=\"s\">\n                              <span v-if=\"!['white', 'yellow', 'green', 'polkadot'].includes(s.category)\">{{ s.point }}</span>\n                              <span v-else-if=\"s.point !== 0\">{{ s.point }}</span>\n                            </div>\n                          </div>\n                        </td>\n                        <td>\n                          <div v-if=\"scoresMap.get(stage.stage_url)\">\n                            <div v-for=\"s in scoresMap.get(stage.stage_url).get(racer.url)\" :key=\"s\">\n                              <span v-if=\"!['white', 'yellow', 'green', 'polkadot'].includes(s.category)\">{{ isNaN(s.category)?s.category:s.category+(s.category%10==1&&s.category%100!=11?'st':s.category%10==2&&s.category%100!=12?'nd':s.category%10==3&&s.category%100!=13?'rd':'th') }}</span>\n                            </div>\n                          </div>\n                        </td>\n                      </tr>\n                      <tr class=\"border-bottom border-2\">\n                            <th scope=\"row\">Total</th>\n                            <td>{{ stage.total_score }}</td>\n                            <td></td>\n                          </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n              </div>\n            </div>\n          </div>\n    </tr>\n    </tbody>\n  </table>\n</div>\n</template>\n\n<script setup>\nimport { computed, ref, onMounted, defineProps } from 'vue';\nimport axios from 'axios';\n\nconst players = ref([]);\nconst league = ref({});\n\nconst sortedPlayers = computed(() => {\n\n  let copy = players.value.slice();\n  copy.sort((a,b) => {return b.current_score - a.current_score});\n\n  //console.log(JSON.stringify(copy));\n  return copy//leagueStore.players//.slice().sort((a,b) => a.current_score - b.current_score);\n});\n\nconst loadLeague = async ()=> {\n  const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league/id/${props.leagueId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      league.value = leagueResponse.data;\n};\n\nconst getLeaguePlayers = async () => {\n      const token = localStorage.getItem('token');\n      const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league/${props.leagueId}/players`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      players.value = leagueResponse.data;\n    };\n\nconst stageScores = ref([]);\nconst scoresMap = ref(new Map());\nconst loadStageScores = async () => {\n\n  const token = localStorage.getItem('token');\n  const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/racerScore/search?race=${league.value.active_race_url}`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  stageScores.value = leagueResponse.data;\n  //console.log(stageScores.value);\n\n  let map = Map.groupBy(stageScores.value, ({stage}) => stage);\n  map.forEach( (v, stageurl, m) => {\n    m.set(stageurl, Map.groupBy(v, ({racer}) => racer));\n  })\n\n  scoresMap.value = map;\n  //console.log(map);\n};\n\nconst stageNameMaps = ref(null);\nconst loadStageNameMaps = async() => {\n  const token = localStorage.getItem('token');\n  const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/race/url?url=${league.value.active_race_url}`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  console.log(leagueResponse.data);\n  stageNameMaps.value = Map.groupBy(leagueResponse.data.days, ({url}) => url);\n};\n\nonMounted( async () => {\n  //getPlayers(league.value.id);\n  console.log(\"Mounted\");\n  \n  await loadLeague();\n  await getLeaguePlayers();\n  await loadStageScores();\n  await loadStageNameMaps();\n});\n\nconst props = defineProps({\n  leagueId: {\n    type: String,\n    required: true\n  },\n});\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.image-parent {\n  width: 50px; /* Adjust width of the image container */\n  margin-right: 10px; /* Adjust margin between image and content */\n}\n\n.img-fluid {\n  max-width: 100%;\n  height: auto;\n}\n\n.content-wrapper {text-align: left;\n}\n\n.btn-link.p-0.m-0 {\n  color: #198754; /* Bootstrap success color */\n}\n\n.btn-link.p-0.m-0:hover,\n.btn-link.p-0.m-0:focus,\n.btn-link.p-0.m-0:active {\n  color: #157347; /* Darker shade for hover, focus, active states */\n}\n</style>","import script from \"./LeaguePreviewPopup.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LeaguePreviewPopup.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LeaguePreviewPopup.vue?vue&type=style&index=0&id=ed29272a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ed29272a\"]])\n\nexport default __exports__","<template>\n  <div class=\"container mt-4\">\n    <h1 class=\"mt-4\">Preview</h1>\n      <div class=\"row\">\n      <div v-for=\"league in leagueList\" :key=\"league.id\" class=\"card\" style=\"width: 18rem;\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\"><strong>{{ league.name }}</strong></h5>\n          <table>\n            <tr><td>Active Race:</td><td><a v-bind:href=\"league.active_race_url\" target=\"prosite\">{{ league.activeRace }}</a></td></tr>\n            <tr><td>Number of Players:</td><td><p>{{ league.players.length }}</p></td></tr>\n          </table>\n          <div><PreviewPopup :leagueId=\"league.id\" /></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, onMounted } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\nimport PreviewPopup from \"@/components/LeaguePreviewPopup.vue\";\n\nconst leagueStore = useLeagueStore();\n\nconst leagueList = computed(() => leagueStore.allLeagues);\n\nonMounted(() => {\n  leagueStore.getLeagueList();\n});\n</script>\n\n<!--<template>\n    <div>\n      <h1 class = \"mt-4\">League Preview</h1>\n        <div v-for=\"league in leagueList\" :key=\"league.id\" class=\"card\" style=\"width: 18rem;\">\n          <div class=\"card-body\">\n              <h5 class=\"card-title\">{{ league.name }}</h5>\n              <table>\n                <tr><td>Active Race:</td><td><a v-bind:href=\"league.active_race_url\" target=\"prosite\">{{ league.activeRace }}</a></td></tr>\n                <tr><td>Number of Players:</td><td><p>{{ league.players.length }}</p></td></tr>\n              </table>\n              <button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">Preview</button>\n               Modal\n              <div><PreviewPopup :leagueId=\"league.id\" /></div>\n          </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { computed, onMounted } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\nimport PreviewPopup from \"@/components/LeaguePreviewPopup.vue\";\n\nconst leagueStore = useLeagueStore()\n//const league = ref(leagueStore.league);\n\nconst leagueList = computed(() => {\n  return leagueStore.allLeagues;\n});\n\n//const getPlayers = leagueStore.getLeaguePlayers;\nonMounted(() => {\n  //getPlayers(league.value.id);\n  leagueStore.getRace();\n  leagueStore.getLeagueList();\n});\n\n\n</script>-->","import script from \"./LeaguePreview.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LeaguePreview.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div>\n    <h1 class = \"mt-4\">Draft List</h1> {{ dragTarget }}\n    <div class=\"d-flex justify-content-center mt-3\">\n      <table>\n        <tr>\n          <td>\n            <button class=\"btn btn-success btn-lg mb-3 me-3\" @click=\"submit\">Save</button>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <div @drop=\"onDrop($event)\" class=\"drop-zone\" @dragover.prevent>\n              <ul class=\"list-group\">\n                <li\n                  v-for=\" (racer, idx) in racers\" \n                  :key=\"racer\" \n                  class=\"list-group-item d-flex justify-content-between align-items-center\"\n                  draggable=\"true\" \n                  @dragstart=\"startDragging($event, racer)\" \n                  @dragenter=\"dragEnter($event, racer)\"\n                >\n                <div class=\"d-flex align-items-center flex-grow-1\">\n                    <div class=\"image-parent\">\n                      <img src=\"blank-profile-picture.png\" class=\"img-fluid\" alt=\"Racer Image\">\n                    </div>\n                    <div class=\"content-wrapper\">\n                      <a :href=\"racer.url\" target=\"prosite\"><strong>{{ racer.name }}</strong></a>\n                      <p v-if=\"racer.specialties.length > 0\"> {{ racer.specialties.join(', ') }}</p>\n                      <p v-else> None</p>\n                    </div>\n                </div>\n                    <div class=\"btn-group ms-2\" role=\"group\" aria-label=\"Basic example\">\n                      <div class=\"border-end\">\n                      <button @click=\"racerStore.move(idx, 'up')\" type=\"button\" class=\"btn btn-success\" :disabled=\"idx === 0\"></button>\n                    </div>\n                    <div>\n                      <button @click=\"racerStore.move(idx, 'down')\" type=\"button\" class=\"btn btn-success\" :disabled=\"idx === racers.length - 1\"></button>\n                    </div>\n                    <div>\n                      <button @click=\"racerStore.move(idx, 'top')\" type=\"button\" class=\"btn btn-success\" :disabled=\"idx === 0\">top</button>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref, onMounted } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\nimport { useRacerStore } from '@/stores/racer';\n\nconst leagueStore = useLeagueStore()\nconst racerStore = useRacerStore()\n\nconst league = ref(leagueStore.league);\nconst racers = computed(() => {\n  return racerStore.racers;\n});\n//const racers = ref(racerStore.racers);\n\nconst getRacers = racerStore.loadDraftlist;\n\nconst dragTarget = ref(\"\");\n\nfunction dragEnter(event, racer) {\n  dragTarget.value = racer.name\n}\n\nfunction startDragging(event, racer) {\n  console.log(\"start dragging \" + racer.name)\n  event.dataTransfer.dropEffect = 'move'\n  event.dataTransfer.effectAllowed = 'move'\n  event.dataTransfer.setData('racerName', racer.name)\n}\n\nfunction onDrop(event) {\n  let racername = event.dataTransfer.getData('racerName')\n  //console.log(event.dataTransfer.getData('racerName') + \" insert before \" + this.dragTarget)\n  if(dragTarget.value != racername) {\n    racerStore.insertBefore(racername, dragTarget.value)\n  }\n  dragTarget.value = \"\"\n  event.preventDefault();\n}\n\nfunction submit() {\n  racerStore.updateDraftlist(league.value.active_race_url);\n}\n\nonMounted(() => {\n  getRacers(league.value.active_race_url);\n});\n</script>\n\n\n<style scoped>\n.drop-zone {\n  background-color: #eee;\n  margin-bottom: 10px;\n  padding: 10px;\n}\n\n.drag-el {\n  background-color: #fff;\n  margin-bottom: 10px;\n  padding: 5px;\n}\n\n.image-parent {\n  width: 50px; /* Adjust width of the image container */\n  margin-right: 10px; /* Adjust margin between image and content */\n}\n\n.img-fluid {\n  max-width: 100%;\n  height: auto;\n}\n\n.content-wrapper {text-align: left;\n}\n\n</style>","import script from \"./DraftListView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DraftListView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DraftListView.vue?vue&type=style&index=0&id=05887c48&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-05887c48\"]])\n\nexport default __exports__","<template>\n  <div>\n    <h1 class = \"mt-4\">My Roster</h1>\n    <div class=\"d-flex justify-content-center mt-3\">\n      <table>\n        <tr>\n          <td>\n            <button class=\"btn btn-success btn-lg mb-3 me-3\" @click=\"leagueStore.submitRoaster()\" :disabled=\"activeRacers.length != 8 || (new Date().getHours() > 5 && new Date().getHours() < 13)\">Save</button>\n            <router-link class=\"btn btn-outline-success btn-lg mb-3\" to=\"/trade\">Trade</router-link>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <div @drop=\"onDrop($event, 'active')\" @dragover.prevent>\n              <ul class=\"list-group\">\n                <li\n                  v-for=\"racer in activeRacers\"\n                  :key=\"racer.id\"\n                  class=\"list-group-item d-flex justify-content-between align-items-center\"\n                  draggable=\"true\"\n                  @dragstart=\"startDragging($event, racer)\"\n                >\n                  <div class=\"d-flex align-items-center\">\n                    <div class=\"d-flex flex-column align-items-center\">\n                      <img :src=\"racer.teamimg?racer.teamimg:'blank-profile-picture.png'\" class=\"img-fluid\" alt=\"Racer Image\" style=\"width: 50px; height: 50px;\">\n                      <!--p>{{ r.bib }}</p-->\n                      <p class=\"text-muted text-center\" style=\"font-size: 13px;\">#{{ racer.bib }}</p>\n                    </div>\n                    <div class=\"content-wrapper\">\n                      <h5 class=\"card-title px-2\"><a :href=\"racer.url\" target=\"prosite\">{{ racer.name }}</a></h5>\n                      <p class=\"card-text px-2\" v-if=\"racer.specialties.length > 0\">{{ racer.specialties.join(', ') }}</p>\n                      <p class=\"card-text px-2\" v-else>None</p>\n                    </div>\n                  </div>\n                  <div class=\"btn-group ms-2\" role=\"group\" aria-label=\"Basic example\">\n                      <!--div class=\"border-end\">\n                      <button type=\"button\" class=\"btn btn-success\" :disabled=\"idx === 0\"></button>\n                    </div -->\n                    <div>\n                      <button @click=\"leagueStore.moveRoaster(racer.name, 'bench')\"  type=\"button\" class=\"btn btn-success\"></button>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <div @drop=\"onDrop($event, 'bench')\" class=\"drop-zone\" @dragover.prevent>\n              <ul class=\"list-group\">\n                <li\n                  v-for=\"racer in benchRacers\"\n                  :key=\"racer.id\"\n                  class=\"list-group-item list-group-item-secondary d-flex justify-content-between align-items-center\"\n                  draggable=\"true\"\n                  @dragstart=\"startDragging($event, racer)\"\n                >\n                <div class=\"d-flex align-items-center\">\n                  <div class=\"d-flex flex-column align-items-center\">\n                    <img :src=\"racer.teamimg?racer.teamimg:'blank-profile-picture.png'\" class=\"img-fluid\" alt=\"Racer Image\" style=\"width: 50px; height: 50px;\">\n                    <!--p>{{ r.bib }}</p-->\n                    <p class=\"text-muted text-center\" style=\"font-size: 13px;\">#{{ racer.bib }}</p>\n                  </div>\n                  <div class=\"content-wrapper\">\n                    <h5 class=\"card-title px-2\"><a :href=\"racer.url\" target=\"prosite\">{{ racer.name }}</a></h5>\n                    <p class=\"card-text px-2\" v-if=\"racer.specialties.length > 0\">{{ racer.specialties.join(', ') }}</p>\n                    <p class=\"card-text px-2\" v-else>None</p>\n                  </div>\n                </div>\n                  <div class=\"btn-group ms-2\" role=\"group\" aria-label=\"Basic example\">\n                      <div class=\"border-end\">\n                      <button @click=\"leagueStore.moveRoaster(racer.name, 'active')\" type=\"button\" class=\"btn btn-success\" ></button>\n                    </div>\n                    <!--div>\n                      <button type=\"button\" class=\"btn btn-success\" :disabled=\"idx === benchRacers.length - 1\"></button>\n                    </div-->\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\n\nconst leagueStore = useLeagueStore();\n\nconst activeRacers = computed(() => leagueStore.leaguePlayer.active_racers?leagueStore.leaguePlayer.active_racers:[]);\nconst benchRacers = computed(() => leagueStore.leaguePlayer.bench_racers?leagueStore.leaguePlayer.bench_racers:[]);\n\nfunction startDragging(event, racer) {\n  event.dataTransfer.dropEffect = 'move';\n  event.dataTransfer.effectAllowed = 'move';\n  event.dataTransfer.setData('racerName', racer.name);\n}\n\nfunction onDrop(event, target) {\n  const racerName = event.dataTransfer.getData('racerName');\n  leagueStore.moveRoaster(racerName, target);\n  event.preventDefault();\n}\n</script>\n\n<style scoped>\n.image-parent {\n  width: 50px; /* Adjust width of the image container */\n  margin-right: 10px; /* Adjust margin between image and content */\n}\n\n.img-fluid {\n  max-width: 100%;\n  height: auto;\n}\n\n.content-wrapper {text-align: left;\n}\n\n</style>\n","import script from \"./RosterView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RosterView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RosterView.vue?vue&type=style&index=0&id=ae7966f8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ae7966f8\"]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>League</h1>\n      <table>\n        <tr><td>League Id</td><td>{{league.id}}</td></tr>\n        <tr><td>League Name</td><td>{{ league.name }}</td></tr>\n        <tr><td>Active Race</td><td><a v-bind:href=\"league.active_race_url\" target=\"prosite\">{{ league.activeRace }}</a></td></tr>\n      </table>\n      <h2>Player Draft Lists</h2>\n      <button @click=\"randomizeOrder()\" >Randomize Draft Order </button>\n      <button @click=\"runDraft()\" :disabled=\"round >12\" >Draft! {{ round }}</button>\n      <button @click=\"submitDraft()\" :disabled=\"round !=13\" >Submit Draft Result</button>\n      <table>\n        <thead>\n          <tr >\n              <th v-for=\"player in players\" :key=\"player.player_strava_id\">{{ player.player_nickname }}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td v-for=\"draft in draftLists\" :key=\"draft\">\n              <div>{{ draft.user_strava_id }}</div>\n              <div v-for=\"r in draft.racer_list\" :key=\"r\">\n                <span :class=\"getStatus(r, draft)\" >{{ r.name }}</span>\n                <span>[{{ r.player }}]</span>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref, onMounted } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\nimport { useRacerStore } from '@/stores/racer';\n\nconst leagueStore = useLeagueStore()\nconst racerStore = useRacerStore()\n\nconst league = ref(leagueStore.league);\nconst players = computed(() => {\n  return leagueStore.players;\n});\n\nconst draftLists = computed( () => {\n  return racerStore.draftList;\n})\n\nconst getAllDraftlist = racerStore.getAllDraftlist;\nonMounted(() => {\n  getAllDraftlist(league.value.id);\n});\n\nfunction randomizeOrder() {\n  leagueStore.shuffle();\n  getAllDraftlist(league.value.id);\n  round.value = 1;\n}\n\nconst round = ref(1);\n\nfunction runDraft() {\n  if(round.value == 13) return;\n  const dl = draftLists.value;\n  const lists = round.value % 2 == 1?dl:dl.slice().reverse();\n  lists.forEach( list => {\n    let next = list.racer_list.find( racer => !racer.player)\n    lists.forEach ( l => {\n      let took = l.racer_list.find( racer => racer.name == next.name)\n      took.player = list.user_strava_id.toString();\n      //console.log(list.user_strava_id + \" took \" + took.name)\n    })\n  } );\n  round.value++;\n}\n\nfunction submitDraft() {\n  const ps = players.value;\n  const dls = draftLists.value;\n  ps.forEach( (p, i) => {\n    const racers = dls[i].racer_list.filter( racer => racer.player == p.player_strava_id);\n    console.log(p.player_nickname + \": \" + racers.length);\n    p.active_racers = racers.slice(0, 8);\n    p.bench_racers = racers.slice(8);\n  });\n  leagueStore.submitDraft();\n}\n\nfunction getStatus(r, draft) {\n  if (!r.player) return '';\n  return (r.player == draft.user_strava_id) ? 'own' : 'taken';\n}\n</script>\n\n<style scoped>\n.own {\n  background-color: greenyellow;\n}\n.taken {\n  background-color: #eee;\n}\n</style>","import script from \"./RunDraftView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RunDraftView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RunDraftView.vue?vue&type=style&index=0&id=b3c3a2f2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b3c3a2f2\"]])\n\nexport default __exports__","<template>\n  <div class=\"d-flex justify-content-center mt-4\">\n    <div v-show=\"tradeList.length\">\n      <h1>Trade Requests</h1>\n        <ul class=\"list-group\">\n          <li\n            v-for=\"request in tradeList\"\n            :key=\"request\"\n            class=\"list-group-item d-flex justify-content-between align-items-center\"\n          >\n            <div class=\"d-flex align-items-center flex-grow-1\">\n              <div class=\"image-parent\">\n                <img src=\"blank-profile-picture.png\" class=\"img-fluid\" alt=\"Racer Image\">\n              </div>\n              <div class=\"content-wrapper\">\n                <a :href=\"request.toRacer.url\" target=\"prosite\"><strong>{{ request.toRacer.name }}</strong></a>\n                <p v-if=\"request.toRacer.specialties.length > 0\">{{ request.toRacer.specialties.join(', ') }}</p>\n                <p v-else>None</p>\n              </div>\n            </div>\n            <div class=\"text-end ms-3\">\n              <div>Requested by:</div>\n                <div class=\"fw-bold\">{{ leagueStore.getPlayerByStravaId(request.player_strava_id).player_nickname }}</div>\n            </div>\n            <div class=\"ms-5\">\n              <button type=\"button\" class=\"btn btn-success\" @click=\"leagueStore.cancelTradeRequest(request.id)\">\n                  Cancel\n              </button>\n            </div>\n          </li>\n        </ul>\n    </div>\n  </div>\n  <div>\n    <h1 class=\"text-center mt-4\">Trade</h1>\n    <div>Your current trade priority is {{ leagueStore.league.players.indexOf(leagueStore.leaguePlayer.player_strava_id) +1 }} of {{ leagueStore.league.players.length }}</div>\n    <div class=\"container mt-3\">\n      <div class=\"row justify-content-center align-items-center\">\n        <div class=\"col-md-6\">\n          <div class=\"text-center mb-3\">\n            <div><strong>{{ fromRacer.name }} >> {{ toRacer.name }}</strong></div>\n          </div>\n          <div class=\"text-center\">\n            <button class=\"btn btn-success btn-lg mb-3 me-3\" @click=\"leagueStore.submitTrade(fromRacer, toRacer)\" :disabled=\"!(fromRacer.name && toRacer.name)\">Submit</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <h2>Your Roster</h2>\n          <ul class=\"list-group\">\n            <li\n              v-for=\"racer in activeRacers\"\n              :key=\"racer.name\"\n              class=\"list-group-item d-flex justify-content-between align-items-center\"\n              :class=\"{ 'border-success-thick': fromRacer === racer }\"\n              @click=\"selectFromRacer(racer)\"\n            >\n              <div class=\"d-flex align-items-center flex-grow-1\">\n                <div class=\"image-parent\">\n                  <img src=\"blank-profile-picture.png\" class=\"img-fluid\" alt=\"Racer Image\">\n                </div>\n                <div class=\"content-wrapper\">\n                  <a :href=\"racer.url\" target=\"prosite\"><strong>{{ racer.name }}</strong></a>\n                  <p v-if=\"racer.specialties.length > 0\">{{ racer.specialties.join(', ') }}</p>\n                  <p v-else>None</p>\n                </div>\n              </div>\n            </li>\n            <li\n              v-for=\"racer in benchRacers\"\n              :key=\"racer.name\"\n              class=\"list-group-item d-flex justify-content-between align-items-center\"\n              :class=\"{ 'border-success-thick': fromRacer === racer }\"\n              @click=\"selectFromRacer(racer)\"\n            >\n              <div class=\"d-flex align-items-center flex-grow-1\">\n                <div class=\"image-parent\">\n                  <img src=\"blank-profile-picture.png\" class=\"img-fluid\" alt=\"Racer Image\">\n                </div>\n                <div class=\"content-wrapper\">\n                  <a :href=\"racer.url\" target=\"prosite\"><strong>{{ racer.name }}</strong></a>\n                  <p v-if=\"racer.specialties.length > 0\">{{ racer.specialties.join(', ') }}</p>\n                  <p v-else>None</p>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div class=\"col-md-6\">\n          <h2>Available Racers</h2>\n          <ul class=\"list-group\">\n            <li\n              v-for=\"racer in availableRacers\"\n              :key=\"racer.name\"\n              class=\"list-group-item d-flex justify-content-between align-items-center\"\n              :class=\"{ 'border-success-thick': toRacer === racer }\"\n              @click=\"selectToRacer(racer)\"\n            >\n              <div class=\"d-flex align-items-center flex-grow-1\">\n                <div class=\"image-parent\">\n                  <img src=\"blank-profile-picture.png\" class=\"img-fluid\" alt=\"Racer Image\">\n                </div>\n                <div class=\"content-wrapper\">\n                  <a :href=\"racer.url\" target=\"prosite\"><strong>{{ racer.name }}</strong></a>\n                  <p v-if=\"racer.specialties.length > 0\">{{ racer.specialties.join(', ') }}</p>\n                  <p v-else>None</p>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref, onMounted } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\nimport { useRacerStore } from '@/stores/racer';\n\nconst leagueStore = useLeagueStore();\nconst league = ref(leagueStore.league);\n\nconst activeRacers = computed(() => {\n  return leagueStore.leaguePlayer.active_racers;\n});\nconst benchRacers = computed(() => {\n  return leagueStore.leaguePlayer.bench_racers;\n});\n\nconst racerStore = useRacerStore();\nconst availableRacers = computed(() => {\n  return racerStore.allRacers.filter( r => !r.player)\n});\n\nconst fromRacer = ref({});\nconst toRacer = ref({});\n\nfunction selectFromRacer(racer) {\n  fromRacer.value = racer;\n}\n\nfunction selectToRacer(racer) {\n  toRacer.value = racer;\n}\n\nconst tradeList = computed(() => {\n  //return leagueStore.tradeList.slice().sort((a, b) => {return (a.toRacer.ranking - b.toRacer.ranking);});\n  return leagueStore.tradeList.slice().filter(t => t.player_strava_id == leagueStore.leaguePlayer.player_strava_id);\n});\n\nonMounted(async () => {\n  await racerStore.getRacerlist(league.value.active_race_url);\n  await leagueStore.getTradeRequests();\n});\n\n</script>\n\n\n<style scoped>\n.drop-zone {\n  background-color: #eee;\n  margin-bottom: 10px;\n  padding: 10px;\n}\n\n.top-align {\n  vertical-align: top;\n}\n\n.image-parent {\n  width: 50px; /* Adjust width of the image container */\n  margin-right: 10px; /* Adjust margin between image and content */\n}\n\n.img-fluid {\n  max-width: 100%;\n  height: auto;\n}\n\n.content-wrapper {text-align: left;\n}\n\n.border-success-thick {\n  border: 4px solid #28a745; /* Bootstrap success green with thicker border */\n}\n</style>","import script from \"./TradeView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TradeView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TradeView.vue?vue&type=style&index=0&id=7fa8c3a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7fa8c3a8\"]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>Run Trade</h1>\n      <table>\n        <tr><td>League Id</td><td>{{league.id}}</td></tr>\n        <tr><td>League Name</td><td>{{ league.name }}</td></tr>\n        <tr><td>Active Race</td><td><a v-bind:href=\"league.active_race_url\" target=\"prosite\">{{ league.activeRace }}</a></td></tr>\n        <tr>\n            <td><h2>Trade Requests</h2></td>\n            <td><button @click=\"leagueStore.completeTradeRequests\" > Finalize Trade </button></td>\n        </tr>\n        <tr>\n          <td><div v-for=\"request in tradeList\" :key=\"request\" :class=\"request.selected ? 'own' : ''\">\n            <span>{{ request.toRacer.name }} [{{ request.toRacer.ranking }}]</span> <span> >> </span> \n            <span> {{ request.fromRacer.name }} [{{ request.fromRacer.ranking }}]</span> by \n            <span> {{ leagueStore.getPlayerByStravaId(request.player_strava_id).player_nickname }}</span>\n            <span> [{{ leagueStore.getPlayerPositionByStravaId(request.player_strava_id) }}]</span>\n          </div></td>\n        </tr>\n      </table>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useLeagueStore } from '@/stores/league';\nimport { useAutoStore } from '@/stores/automation';\n\nconst leagueStore = useLeagueStore();\nconst league = ref(leagueStore.league);\n\n\nconst tradeList = computed(() => {\n  return leagueStore.tradeList\n});\n\nconst autoStore = useAutoStore();\n\nconst router = useRouter();\n\nonMounted(async () => {\n  //await leagueStore.getTradeRequests();\n  await leagueStore.getMultiTradeRequests();\n\n  if(autoStore.isAutoMode && autoStore.currentTask) {\n    if(leagueStore.tradeList.length >0) await leagueStore.completeTradeRequests();\n    autoStore.completeTask();\n    router.push('/autocenter');\n  }\n});\n</script>\n\n<style scoped>\n.own {\n  background-color: #eee;\n}\n</style>","import script from \"./RunTrade.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RunTrade.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RunTrade.vue?vue&type=style&index=0&id=73cbd394&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-73cbd394\"]])\n\nexport default __exports__","<template>\n  <div>\n    <h1>Score by Stage</h1>\n    <!-- Button trigger modal -->\n    <select v-model=\"selectedStage\" @change=\"getScores(selectedStage)\">\n      <option v-for=\"stage in stages\" :value=\"stage.url\" :key=\"stage\">{{stage.name}}</option>\n    </select>\n    <button type=\"button\" @click=\"retrieveScores\"> Retrieve Scores</button>\n\n<!-- Modal -->\n<h2>Racer Scores</h2>\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">League Info</h1>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <table>\n        <tr><td>Id</td><td>{{league.id}}</td></tr>\n        <tr><td>Name</td><td>{{ league.name }}</td></tr>\n        <tr><td>Password</td><td>{{ league.password }}</td></tr>\n        <tr><td>Active Race</td><td><a v-bind:href=\"league.active_race_url\" target=\"prosite\">{{ league.activeRace }}</a></td></tr>\n      </table>\n      </div>\n    </div>\n  </div>\n</div>\n<table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">Cat</th>\n      <th scope=\"col\">Racer</th>\n      <th scope=\"col\">Points</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr v-for=\"score in stageScores\" :key=\"score\">\n            <td>{{ score.category}}</td>\n            <td>{{ score.racer }}</td>\n            <td>{{ score.point }}</td>\n    </tr>\n  </tbody>\n</table>\n<h2>Player scores</h2><button @click=\"leagueStore.submitStageScore(selectedStage)\">Submit</button>\n<table>\n        <thead>\n          <tr >\n              <th v-for=\"player in leagueStore.stagePlayers\" :key=\"player\">{{ player.player_nickname }}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td v-for=\"player in leagueStore.stagePlayers\" :key=\"player\">\n              <div v-for=\"racer in player.stageRacers\" :key=\"racer\" > <div><b>{{ racer.name }} </b></div>\n                <div v-for=\"score in racer.scores\" :key=\"score\">{{ score.category }}: {{ score.point }}</div>\n              </div>\n              <div style=\"color:red\">{{ player.stageScore }}</div>\n              <div>{{ player.jerseys }}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n  </div>\n</template>\n\n\n\n<script setup>\nimport { computed, ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useLeagueStore } from '@/stores/league';\nimport { useRacerStore } from '@/stores/racer';\nimport { useAutoStore } from '@/stores/automation';\nimport axios from 'axios';\n\nconst leagueStore = useLeagueStore()\nconst racerStore = useRacerStore();\n\nconst league = ref(leagueStore.league);\n\nconst getPlayers = leagueStore.getLeaguePlayers;\n\nconst stages = ref(leagueStore.race.days);\nconst selectedStage = ref(\"\");\nconst getScores = leagueStore.getRaceScoreByStage;\nconst stageScores = computed(() => {\n  return leagueStore.scoresForStage.slice()//.sort((a,b) => b.category-a.category);\n});\n\nconst retrieveScores = async ()=> {\n  const token = localStorage.getItem('token');\n  const scoreResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/pcs?url=${selectedStage.value}`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n\n  let doc = document.createElement('html');\n  doc.innerHTML = scoreResponse.data;\n\n  let race = league.value.active_race_url;\n  let m = new Map();\n  doc.querySelectorAll('.restabs li').forEach((e) => m.set(e.childNodes[0].textContent, e.childNodes[0].getAttribute(\"data-id\")))\n  if(!m.get('Stage')) m.set('Stage', m.get(''));\n\n  const isLastStage = !Array.from(doc.querySelectorAll('.prevNextStageLink a')).slice(-1)[0].innerHTML.startsWith('next');\n  //console.log(m)\n  let scores = []\n  // stage winners\n  const stageHeaders = Array.from(doc.querySelectorAll('div[data-id=\"'+m.get('Stage')+'\"] table.results thead th'), ({innerHTML}) => innerHTML);\n  doc.querySelectorAll('div[data-id=\"'+m.get('Stage')+'\"] table.results tbody tr').forEach((e) => {\n    //console.log('html: ' + e.innerHTML)\n    //if(e.children[stageHeaders.indexOf('Pnt')].textContent) {  // Pnt\n    if(e.firstChild.textContent && e.children[10].textContent) {\n      let s={}; \n      s.racer=e.children[stageHeaders.indexOf('Rider')].firstChild.children[1].href;  // Rider\n      if (s.racer) s.racer= s.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n      s.race=race;\n      s.category=e.firstChild.textContent;  // Rnk\n      s.point=e.children[stageHeaders.indexOf('Pnt')].textContent;   // Pnt\n      s.stage=selectedStage.value;\n      scores.push(s); }\n  });\n\n  // yellow\n  //let racer_pos = doc.querySelector('div[data-id=\"'+m.get('GC')+'\"] table.results thead tr').childElementCount==11?4:6; // Rider\n  const gcHeaders = Array.from(doc.querySelectorAll('div[data-id=\"'+m.get('GC')+'\"] table.results thead th'), ({innerHTML}) => innerHTML);\n  let s={};\n  s.racer=doc.querySelector('div[data-id=\"'+m.get('GC')+'\"] table.results tbody tr').children[gcHeaders.indexOf('Rider')].firstChild.children[1].href\n  if (s.racer) s.racer= s.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n  s.race=race;\n  s.category=\"yellow\";\n  s.point=0;\n  s.stage=selectedStage.value;\n  scores.push(s);\n\n  // gc bonus\n  if(isLastStage) {\n    let bonus = [100, 70, 50, 40, 32, 26, 22, 18, 14, 10, 8, 6, 4, 2, 1]\n    doc.querySelector('div[data-id=\"'+m.get('GC')+'\"] table.results').querySelectorAll('tbody tr').forEach((e, i) => {\n      if(i<15) {\n        let s={}; \n        s.racer=e.children[gcHeaders.indexOf('Rider')].firstChild.children[1].href;  // Rider\n        if (s.racer) s.racer= s.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n        s.race=race;\n        s.category=\"gc#\" + (i+1);\n        s.point=bonus[i];\n        s.stage=selectedStage.value;\n        scores.push(s); }\n    });\n\n    // youth bonus\n    const youthHeaders = Array.from(doc.querySelectorAll('div[data-id=\"'+m.get('Youth')+'\"] table.results thead th'), ({innerHTML}) => innerHTML);\n    let ybonus = [30, 20, 10]\n    doc.querySelector('div[data-id=\"'+m.get('Youth')+'\"] table.results').querySelectorAll('tbody tr').forEach((e, i) => {\n      if(i<3) {\n        let s={}; \n        s.racer=e.children[youthHeaders.indexOf('Rider')].firstChild.children[1].href;  //Rider\n        if (s.racer) s.racer= s.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n        s.race=race;\n        s.category=\"youth#\" + (i+1);\n        s.point=ybonus[i];\n        s.stage=selectedStage.value;\n        scores.push(s); }\n    });\n  }\n\n  // points\n  const pointsHeaders = Array.from(doc.querySelectorAll('div[data-id=\"'+m.get('Points')+'\"] table.results thead th'), ({innerHTML}) => innerHTML);\n  doc.querySelector('div[data-id=\"'+m.get('Points')+'\"] table.results').querySelectorAll('tbody tr').forEach((e) => {\n    if(e.lastChild.firstChild.textContent.indexOf('-')<0) {  // Today .delta_pnt\n      let s={}; \n      s.racer=e.children[pointsHeaders.indexOf('Rider')].firstChild.children[1].href;  // Rider\n      if (s.racer) s.racer= s.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n      s.race=race;\n      s.category=\"sprint\";\n      s.point=e.lastChild.firstChild.textContent.substring(1);  // Today .delta_pnt\n      s.stage=selectedStage.value;\n      scores.push(s); }\n    });\n\n  // green\n  s={};  // Rider\n  s.racer=doc.querySelector('div[data-id=\"'+m.get('Points')+'\"] table.results tbody tr').children[pointsHeaders.indexOf('Rider')].firstChild.children[1].href\n  if (s.racer) s.racer= s.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n  s.race=race;\n  s.category=\"green\";\n  s.point=0;\n  s.stage=selectedStage.value;\n  scores.push(s);\n\n  // KOM\n  const komHeaders = Array.from(doc.querySelectorAll('div[data-id=\"'+m.get('KOM')+'\"] table.results thead th'), ({innerHTML}) => innerHTML);\n  doc.querySelector('div[data-id=\"'+m.get('KOM')+'\"] table.results').querySelectorAll('tbody tr').forEach((e) => {\n    if(e.lastChild.firstChild.textContent.indexOf('-')<0) {\n      let s={}; \n      s.racer=e.children[komHeaders.indexOf('Rider')].firstChild.children[1].href;\n      if (s.racer) s.racer= s.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n      s.race=race;\n      s.category=\"KOM\";\n      s.point=e.lastChild.firstChild.textContent.substring(1);\n      s.stage=selectedStage.value;\n      scores.push(s); }\n      //console.log(s); }\n    }); \n    \n  // polkadot\n  s={};\n  s.racer=doc.querySelector('div[data-id=\"'+m.get('KOM')+'\"] table.results tbody tr').children[komHeaders.indexOf('Rider')].firstChild.children[1].href\n  if (s.racer) s.racer= s.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n  s.race=race;\n  s.category=\"polkadot\";\n  s.point=0;\n  s.stage=selectedStage.value;\n  scores.push(s);\n\n  // white\n  s={};\n  const youthHeaders = Array.from(doc.querySelectorAll('div[data-id=\"'+m.get('Youth')+'\"] table.results thead th'), ({innerHTML}) => innerHTML);\n  s.racer=doc.querySelector('div[data-id=\"'+m.get('Youth')+'\"] table.results tbody tr').children[youthHeaders.indexOf('Rider')].firstChild.children[1].href\n  if (s.racer) s.racer= s.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n  s.race=race;\n  s.category=\"white\";\n  s.point=0;\n  s.stage=selectedStage.value;\n  scores.push(s);\n\n  await axios.put(`${process.env.VUE_APP_API_BASE_URL}/racerScore/loadscores`, scores)\n    .then(function (response) {\n      // handle success\n      console.log(response);\n    })\n  getScores(selectedStage.value);\n};\n\nconst autoStore = useAutoStore();\nconst router = useRouter();\n\nonMounted(async () => {\n  await racerStore.getRacerlist(league.value.active_race_url);\n  await getPlayers(league.value.id);\n  await leagueStore.getRace();\n  if(autoStore.isAutoMode && autoStore.currentTask) {\n    console.log(\"auto: \" + autoStore.currentTask);\n\n    if(autoStore.currentTask.data && autoStore.currentTask.data.stageURL) {\n      selectedStage.value = autoStore.currentTask.data.stageURL;\n      await getScores(selectedStage.value);\n      await retrieveScores();\n      await leagueStore.submitStageScore(selectedStage);\n      autoStore.completeTask();\n      router.push('/autocenter');\n    }\n  } else {\n    selectedStage.value = stages.value[0].url;\n    getScores(selectedStage.value);\n  }\n  \n});\n\n\n</script>","import script from \"./RunScoresView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RunScoresView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div>\n    <h1>By Pass</h1>\n    <form>\n      <div class=\"container px-4 text-center\">\n        <div class=\"row gx-5 mb-3\">\n          <div class=\"col\">\n          <label for=\"inputPassword\" class=\"form-label\">User Id</label>\n          <input v-model=\"userid\" class=\"form-control\" id=\"inputPassword\" aria-describedby=\"emailHelp\">\n          </div>\n        </div>\n      </div>\n      <div class=\"row gx-5\">\n        <div class=\"col\">\n          <button @click.prevent=\"join\" class=\"btn btn-primary\">Impersonate</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useAuthStore } from '@/stores/authentication';\nimport { useLeagueStore } from '@/stores/league';\nconst authStore = useAuthStore()\nconst leagueStore = useLeagueStore()\nconst router = useRouter()\nconst userid = ref(\"\");\n\nconst join = async () => {\n\n  await authStore.impersonate(userid.value);\n  if (authStore.user.current_league_id) {\n    await leagueStore.loadLeague(authStore.user.current_league_id);\n    router.push({ name: 'LeagueHome'});\n  } else {\n    router.push({ name: 'JoinLeague' });\n  }\n};\n//const userRoles = [\"user\", \"super\", \"admin\"]\n\nonMounted(() => {\n  //login();\n});\n</script>\n\n<style scoped>\n  </style>","import script from \"./ByPass.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ByPass.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div><h1 class = \"mt-4\">Scores</h1>\n    <div v-for=\"stage in playerScores.stage_scores\" :key=\"stage\">\n      <h2><a v-bind:href=\"stage.stage_url\" target=\"prosite\">{{stageNameMaps.get(stage.stage_url)[0].name}}</a></h2>\n      <table class=\"table\">\n        <thead>\n              <tr>\n                <th scope=\"col\">Racer</th>\n                <th scope=\"col\">Points Earned</th>\n                <th scope=\"col\">How Earned</th>\n              </tr>\n            </thead>\n        <tbody>\n          <tr v-for=\"(racer) in stage.racers\" :key=\"racer.url\">\n            <td><b>{{ racer.name }}</b>\n              <span v-if=\"scoresMap.get(stage.stage_url)\">\n                <span v-for=\"s in scoresMap.get(stage.stage_url).get(racer.url)\" :key=\"s\">\n                  <img v-if=\"['white', 'yellow', 'polkadot', 'green', '1', '2', '3', 'youth#1', 'youth#2', 'youth#3', 'gc#1', 'gc#2', 'gc#3'].includes(s.category)\" \n                       :src=\"'/' + s.category.replace('#', '_') + '.png'\" style=\"width: 20px; height: 20px;\" />\n                </span>\n              </span>\n            </td>\n            <td>\n              <div v-if=\"scoresMap.get(stage.stage_url)\">\n                <div v-for=\"s in scoresMap.get(stage.stage_url).get(racer.url)\" :key=\"s\">\n                  <span v-if=\"!['white', 'yellow', 'green', 'polkadot'].includes(s.category)\">{{ s.point }}</span>\n                  <span v-else-if=\"s.point !== 0\">{{ s.point }}</span>\n                </div>\n              </div>\n            </td>\n            <td>\n              <div v-if=\"scoresMap.get(stage.stage_url)\">\n                <div v-for=\"s in scoresMap.get(stage.stage_url).get(racer.url)\" :key=\"s\">\n                  <div v-if=\"!['white', 'yellow', 'polkadot', 'green'].includes(s.category)\">\n                      <div v-if= \"s.category.includes('#')\">\n                        <span>\n                          {{ s.category.split('#')[0] }} {{ isNaN(s.category.split('#')[1]) ? s.category.split('#')[1] : s.category.split('#')[1] + (s.category.split('#')[1] % 10 == 1 && s.category.split('#')[1] % 100 != 11 ? 'st' : s.category.split('#')[1] % 10 == 2 && s.category.split('#')[1] % 100 != 12 ? 'nd' : s.category.split('#')[1] % 10 == 3 && s.category.split('#')[1] % 100 != 13 ? 'rd' : 'th') }}\n                        </span>\n                      </div>\n                      <div v-else>\n                      <span>\n                        {{ isNaN(s.category) ? s.category : s.category + (s.category % 10 == 1 && s.category % 100 != 11 ? 'st' : s.category % 10 == 2 && s.category % 100 != 12 ? 'nd' : s.category % 10 == 3 && s.category % 100 != 13 ? 'rd' : 'th') }}\n                      </span>\n                      </div>\n                    </div>\n                </div>\n              </div>\n            </td>\n          </tr>\n          <tr class=\"border-bottom border-2\">\n                <th scope=\"row\">Total</th>\n                <td>{{ stage.total_score }}</td>\n                <td></td>\n              </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n\n\n<script setup>\nimport { computed, ref, onMounted } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\nimport axios from 'axios';\n\nconst leagueStore = useLeagueStore()\n\nconst league = ref(leagueStore.league);\n/*\nconst players = computed(() => {\n\n  let copy = leagueStore.players.slice();\n  copy.sort((a,b) => {return b.current_score - a.current_score});\n\n  //console.log(JSON.stringify(copy));\n  return copy//leagueStore.players//.slice().sort((a,b) => a.current_score - b.current_score);\n});\n*/\nconst playerScores = computed( () => {\n  const params = new URLSearchParams(window.location.search);\n  const stravaid = params.get('userId');\n  const player = leagueStore.players.find(p => {console.log(p.player_strava_id); return p.player_strava_id == stravaid;});\n  //player.stage_scores.reverse();\n  return player;\n});\n\nconst stageScores = ref([]);\nconst scoresMap = ref(new Map());\nconst loadStageScores = async () => {\n\n  const token = localStorage.getItem('token');\n  const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/racerScore/search?race=${league.value.active_race_url}`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  stageScores.value = leagueResponse.data;\n  //console.log(stageScores.value);\n\n  let map = Map.groupBy(stageScores.value, ({stage}) => stage);\n  map.forEach( (v, stageurl, m) => {\n    m.set(stageurl, Map.groupBy(v, ({racer}) => racer));\n  })\n\n  scoresMap.value = map;\n  //console.log(map);\n};\n\nconst stageNameMaps = computed(() => {\n  return Map.groupBy(leagueStore.race.days, ({url}) => url);\n});\n\nconst getPlayers = leagueStore.getLeaguePlayers;\nonMounted(async () => {\n  await getPlayers(league.value.id);\n  await leagueStore.getRace();\n  await loadStageScores();\n});\n\n\n</script>","import script from \"./DetailScoresView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DetailScoresView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div>\n    <h1 class = \"mt-4\">{{selectedPlayer.player_nickname}}</h1>\n    <div class=\"d-flex justify-content-center mt-3\">\n      <table>\n        <tr>\n          <td>\n            <div>\n              <ul class=\"list-group\">\n                <li\n                  v-for=\"racer in selectedPlayer.active_racers\"\n                  :key=\"racer.id\"\n                  class=\"list-group-item d-flex justify-content-between align-items-center\"\n                >\n                  <div class=\"d-flex align-items-center\">\n                    <div class=\"d-flex flex-column align-items-center\">\n                      <img :src=\"racer.teamimg?racer.teamimg:'blank-profile-picture.png'\" class=\"img-fluid\" alt=\"Racer Image\" style=\"width: 50px; height: 50px;\">\n                      <!--p>{{ r.bib }}</p-->\n                      <p class=\"text-muted text-center\" style=\"font-size: 13px;\">#{{ racer.bib }}</p>\n                    </div>\n                    <div class=\"content-wrapper\">\n                      <h5 class=\"card-title px-2\"><a :href=\"racer.url\" target=\"prosite\">{{ racer.name }}</a></h5>\n                      <p class=\"card-text px-2\" v-if=\"racer.specialties.length > 0\">{{ racer.specialties.join(', ') }}</p>\n                      <p class=\"card-text px-2\" v-else>None</p>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <div>\n              <ul class=\"list-group\">\n                <li\n                  v-for=\"racer in selectedPlayer.bench_racers\"\n                  :key=\"racer.id\"\n                  class=\"list-group-item list-group-item-secondary d-flex justify-content-between align-items-center\"\n                >\n                  <div class=\"d-flex align-items-center\">\n                    <div class=\"d-flex flex-column align-items-center\">\n                      <img :src=\"racer.teamimg?racer.teamimg:'blank-profile-picture.png'\" class=\"img-fluid\" alt=\"Racer Image\" style=\"width: 50px; height: 50px;\">\n                      <!--p>{{ r.bib }}</p-->\n                      <p class=\"text-muted text-center\" style=\"font-size: 13px;\">#{{ racer.bib }}</p>\n                    </div>\n                    <div class=\"content-wrapper\">\n                      <h5 class=\"card-title px-2\"><a :href=\"racer.url\" target=\"prosite\">{{ racer.name }}</a></h5>\n                      <p class=\"card-text px-2\" v-if=\"racer.specialties.length > 0\">{{ racer.specialties.join(', ') }}</p>\n                      <p class=\"card-text px-2\" v-else>None</p>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\n\nconst leagueStore = useLeagueStore();\nconst selectedPlayer = computed(() => {\n  const params = new URLSearchParams(window.location.search);\n  const stravaid = params.get('userId');\n  const player = leagueStore.players.find(p => {console.log(p.player_strava_id); return p.player_strava_id == stravaid;});\n  player.active_racers=player.active_racers?player.active_racers:[]\n  player.bench_racers_racers=player.bench_racers_racers?player.bench_racers_racers:[]\n  return player;\n})\n\n</script>\n\n<style scoped>\n.image-parent {\n  width: 50px; /* Adjust width of the image container */\n  margin-right: 10px; /* Adjust margin between image and content */\n}\n\n.img-fluid {\n  max-width: 100%;\n  height: auto;\n}\n\n.content-wrapper {text-align: left;\n}\n\n</style>\n","import script from \"./RosterViewOnly.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RosterViewOnly.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RosterViewOnly.vue?vue&type=style&index=0&id=30f47d4a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-30f47d4a\"]])\n\nexport default __exports__","<template>\n  <div>\n    <h1 class=\"mt-4\">Full Scores</h1> <span>* available racers</span>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Racer</th>\n          <th scope=\"col\">Total</th>\n          <th v-for=\"s in stageList\" :key=\"s\" scope=\"col\">{{ s.shortname }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(racer) in totalScoreList\" :key=\"racer\">\n          <td style=\"vertical-align: middle\"><b>{{ racerNameMap.get(racer.url)[0].name }} {{ racerNameMap.get(racer.url)[0].player ? \"\" : \"*\" }}</b></td>\n          <td style=\"vertical-align: middle\"><b>{{ racer.point }} </b></td>\n          <td v-for=\"(stage, stageIndex) in stageList\" :key=\"stageIndex\">\n            <div v-if=\"scoresMap.get(racer.url).get(stage.url)\">\n              <div>\n                <span v-for=\"s in scoresMap.get(racer.url).get(stage.url)\" :key=\"s\">\n                  <img v-if=\"['white', 'yellow', 'polkadot', 'green', '1', '2', '3', 'youth#1', 'youth#2', 'youth#3', 'gc#1', 'gc#2', 'gc#3'].includes(s.category)\" \n                       :src=\"'/' + s.category.replace('#', '_') + '.png'\" style=\"width: 20px; height: 20px;\" />\n                </span>\n                <img src=\"/blank.png\" style=\"width: 1px; height: 20px;\" />\n              </div>\n              <div v-if=\"scoresMap.get(racer.url).get(stage.url).reduce((a, n) => a + n.point, 0) != 0\">\n                <a href=\"#\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapse' + racer.url + stage.url\">\n                  {{ scoresMap.get(racer.url).get(stage.url).reduce((a, n) => a + n.point, 0) }}\n                </a>\n              </div>\n              <div :id=\"'collapse' + racer.url + stage.url\" class=\"collapse\">\n                <div>\n                  <span v-for=\"(s, scoreIndex) in scoresMap.get(racer.url).get(stage.url)\" :key=\"scoreIndex\">\n                    <div v-if=\"!['white', 'yellow', 'polkadot', 'green'].includes(s.category)\">\n                      <div v-if= \"s.category.includes('#')\">\n                        <span>\n                          {{ s.point }} - {{ s.category.split('#')[0] }} {{ isNaN(s.category.split('#')[1]) ? s.category.split('#')[1] : s.category.split('#')[1] + (s.category.split('#')[1] % 10 == 1 && s.category.split('#')[1] % 100 != 11 ? 'st' : s.category.split('#')[1] % 10 == 2 && s.category.split('#')[1] % 100 != 12 ? 'nd' : s.category.split('#')[1] % 10 == 3 && s.category.split('#')[1] % 100 != 13 ? 'rd' : 'th') }}\n                        </span>\n                      </div>\n                      <div v-else>\n                      <span>\n                        {{ s.point }} - {{ isNaN(s.category) ? s.category : s.category + (s.category % 10 == 1 && s.category % 100 != 11 ? 'st' : s.category % 10 == 2 && s.category % 100 != 12 ? 'nd' : s.category % 10 == 3 && s.category % 100 != 13 ? 'rd' : 'th') }}\n                      </span>\n                      </div>\n                    </div>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref, onMounted } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\nimport { useRacerStore } from '@/stores/racer';\nimport axios from 'axios';\n\nconst leagueStore = useLeagueStore()\n\nconst league = ref(leagueStore.league);\n\nconst stageScores = ref([]);\nconst scoresMap = ref(new Map());\nconst totalScoreList = ref([]);\nconst loadStageScores = async () => {\n\n  const token = localStorage.getItem('token');\n  const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/racerScore/search?race=${league.value.active_race_url}`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  stageScores.value = leagueResponse.data;\n  //console.log(stageScores.value);\n\n  let map = Map.groupBy(stageScores.value, ({racer}) => racer);\n\n  let tmap = new Map();\n  map.forEach( (v, k) => {\n    tmap.set(k, v.reduce((a, n) => a+n.point, 0));\n  } );\n  let tslist = Array.from(tmap, (p) => {return {url: p[0], point: p[1]}});\n  tslist.sort((a,b) => b.point-a.point);\n  totalScoreList.value = tslist;\n\n  map.forEach( (v, stageurl, m) => {\n    let list = Map.groupBy(v, ({stage}) => stage);\n    //list.sort( (a,b) => a.stage.localeCompare(b.stage))\n    m.set(stageurl, list);\n  })\n\n  scoresMap.value = map;\n  //console.log(scoresMap);\n};\n\n\nconst stageList = computed(() => {\n  let l = leagueStore.race.days.slice().filter(d => d.name != 'Restday');\n  l.sort((a,b) => a.seq - b.seq);\n  l.forEach(d => {\n    d.shortname = d.url.substring(d.url.lastIndexOf('-')+1);\n  });\n  return l;\n});\n\nconst racerStore = useRacerStore();\nconst racerNameMap = computed( () => {\n  let namemap = Map.groupBy(racerStore.allRacers, ({url}) => url);\n  return namemap;\n});\n\nconst getPlayers = leagueStore.getLeaguePlayers;\nonMounted(async () => {\n  await racerStore.getRacerlist(league.value.active_race_url);\n  await getPlayers(league.value.id);\n  await leagueStore.getRace();\n  await loadStageScores();\n});\n\n\n</script>","import script from \"./FullScoresView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FullScoresView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div>\n    <h1>Race Maintenance</h1>\n    <label for=\"raceurl\">URL:</label>\n    <input type=\"text\" size=\"70\" id=\"raceurl\" v-model=\"raceURLInput\"> \n    <button type=\"button\" @click=\"getRace\" :disabled=\"!raceURLInput\"> Read Race</button> \n    <button type=\"button\" @click=\"saveRace\" :disabled=\"allRaces.includes(selectedRace)\"> Save Race</button> <br/>\n    <select v-model=\"selectedRace\" @change=\"selectRace\">\n      <option v-for=\"race in allRaces\" :value=\"race\" :key=\"race\">{{race.name}}</option>\n    </select>\n    <button type=\"button\" @click=\"updateRace\" :disabled=\"!selectedRace || !allRaces.includes(selectedRace)\"> Update Race Details </button> \n    <table>\n      <tr><th>Race Name</th>\n        <td>{{ selectedRace.name }}</td>\n      </tr>\n      <tr><th>Race URL</th>\n        <td>{{ selectedRace.url }}</td>\n      </tr>\n      <tr><th>Race Start Date</th>\n        <td>{{ selectedRace.start_date }}</td>\n      </tr>\n      <tr><th>Racers</th>\n        <td>{{ selectedRace.url }}/startlist/top-competitors</td>\n      </tr>     \n      <tr><th>Racer Specialties</th>\n        <td>{{ selectedRace.url }}/startlist/best-per-specialty</td>\n      </tr>    \n      <tr><th>Youth Racers</th>\n        <td>{{ selectedRace.url }}/startlist/youngest-oldest</td>\n      </tr>   \n      <tr><th>Stages</th>\n        <td>\n          <div v-for=\"d in selectedRace.days\" :key=\"d\"> <b>{{ d.name }}</b> {{ d.url }}</div>\n        </td>\n      </tr>   \n    </table>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\n/*\nimport { useRacerStore } from '@/stores/racer'\nconst racer = useRacerStore()\n*/\n\nconst allRaces = ref([]);\nconst selectedRace = ref({});\nconst raceURLInput = ref(\"\");\n\nconst loadRaces = async () => {\n  const token = localStorage.getItem('token');\n  const raceResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/race`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  allRaces.value = raceResponse.data.slice().sort((a,b) => Date.parse(b.start_date)-Date.parse(a.start_date));\n\n  //allRaces.value = raceResponse.data;\n};\n\nconst getRace = async () => {\n  const token = localStorage.getItem('token');\n  const raceResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/pcs?url=${raceURLInput.value}`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n\n  let doc = document.createElement('html');\n  doc.innerHTML = raceResponse.data;\n  let race = {}\n  race.days = []\n  race.name = doc.querySelector('div.main').textContent\n  race.url = raceURLInput.value\n  doc.querySelectorAll('div').forEach((element) => {if(element.textContent === 'Startdate:') {race.start_date=element.nextSibling.nextSibling.textContent}})\n  let stages={}\n  doc.querySelectorAll('h3').forEach((e) => {if (e.textContent==='Stages') stages = e.nextSibling.nextSibling})\n  stages.querySelector('table.basic').querySelectorAll('tbody tr').forEach((e, i) => {if (e.className === 'sum') return; \n    let d={}; d.name=e.children[3].textContent; d.seq=i; d.url=e.children[3].firstChild.href; if (d.url) d.url= d.url.replace(document.location.origin, \"https://www.procyclingstats.com\"); \n    race.days.push(d);})\n  doc.innerHTML=\"<html></html>\"\n  selectedRace.value = race;\n  raceURLInput.value = \"\";\n};\n\nconst selectRace = () => { console.log(\"selected\")};\nconst saveRace = () => { \n  axios.put(`${process.env.VUE_APP_API_BASE_URL}/race/raceinfo`, selectedRace.value)\n    .then(function (response) {\n      // handle success\n      alert(response.status);\n    })\n  loadRaces();\n};\n\nconst updateRace = async () => { \n//{{ selectedRace.url }}/startlist/top-competitors\n  const token = localStorage.getItem('token');\n  const raceResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/pcs?url=${selectedRace.value.url}/startlist/top-competitors`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n\n  let doc = document.createElement('html');\n  doc.innerHTML = raceResponse.data;\n\n  let racers = []\n  doc.querySelector('table.basic').querySelectorAll('tbody tr').forEach((e) => {let r={}; \n    r.name=e.children[1].children[1].text;\n    r.ranking=e.children[0].innerText;\n    r.url=e.children[1].children[1].href;\n    if (r.url) r.url= r.url.replace(document.location.origin, \"https://www.procyclingstats.com\");\n    r.nationality=e.children[1].children[0].className.split(' ')[1];\n    r.race=selectedRace.value.url;\n    racers.push(r);\n  });\n  //console.log(racers);\n  doc.innerHTML=\"<html></html>\";\n  axios.put(`${process.env.VUE_APP_API_BASE_URL}/racer/racerlist`, racers)\n    .then(function (response) {\n      // handle success\n      console.log(response);\n  })\n  \n//{{ selectedRace.url }}/startlist/best-per-specialty\n  const specialtyResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/pcs?url=${selectedRace.value.url}/startlist/best-per-specialty`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  doc = document.createElement('html');\n  doc.innerHTML = specialtyResponse.data;\n\n  racers = []\n  doc.querySelectorAll('table.basic').forEach((table) => {\n    let specialty = table.parentElement.previousSibling.previousSibling.textContent;\n    let race = selectedRace.value.url;\n    table.querySelectorAll('tbody tr').forEach((e) => {\n      let r={}; \n      r.racer=e.children[1].children[1].href;\n      if (r.racer) r.racer= r.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n      r.race=race\n      r.specialty=specialty\n      racers.push(r);})\n  })\n  //console.log(racers);\n  axios.put(`${process.env.VUE_APP_API_BASE_URL}/racer/racerspecialties`, racers)\n    .then(function (response) {\n      // handle success\n      console.log(response);\n    })\n\n//{{ selectedRace.url }}/startlist/youngest-oldest\n  const youthResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/pcs?url=${selectedRace.value.url}/startlist/youngest-oldest`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  doc = document.createElement('html');\n  doc.innerHTML = youthResponse.data;\n\n  racers = []\n  doc.querySelector('table.basic').querySelectorAll('tbody tr').forEach((e) => {let r={}; \n    r.racer=e.children[1].children[1].href;\n    if (r.racer) r.racer= r.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n    r.race=selectedRace.value.url\n    r.specialty='Youth'\n    racers.push(r);\n  });\n  //console.log(racers);\n  axios.put(`${process.env.VUE_APP_API_BASE_URL}/racer/racerspecialties`, racers)\n    .then(function (response) {\n      // handle success\n      console.log(response);\n  });\n\n  // bibs\n  const teamResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/pcs?url=${selectedRace.value.url}/startlist`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  doc = document.createElement('html');\n  doc.innerHTML = teamResponse.data;\n\n  // team and bib#\n  const racersteams = []\n  doc.querySelectorAll(\"div .ridersCont\").forEach((e) => {\n    const team = e.querySelector(\"div .team\").href.replace(document.location.origin, \"https://www.procyclingstats.com\");\n    const teamname = e.querySelector(\"div .team\").innerHTML;\n    const teamimg = e.previousSibling.querySelector('img').src.replace(document.location.origin, \"https://www.procyclingstats.com\")\n    console.log(team + \" \" + teamimg)\n    e.querySelectorAll('li').forEach(r => {\n      let rt={}; \n      rt.race = selectedRace.value.url;\n      rt.bib=r.querySelector(\".bib\").innerHTML;\n      rt.racer = r.querySelector(\"a\").href.replace(document.location.origin, \"https://www.procyclingstats.com\");\n      rt.team = team;\n      rt.teamname = teamname;\n      rt.teamimg = teamimg;\n      //if (r.racer) r.racer= r.racer.replace(document.location.origin, \"https://www.procyclingstats.com\");\n      racersteams.push(rt);\n    })\n  });\n  console.log(racersteams);\n  axios.put(`${process.env.VUE_APP_API_BASE_URL}/racer/racerteamandbib`, racersteams)\n    .then(function (response) {\n      // handle success\n      console.log(response);\n  });\n\n  alert(\"updated\");\n};\n\nonMounted(() => {\n  loadRaces();\n});\n</script>","import script from \"./RaceMaintenanceView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RaceMaintenanceView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div>\n    <h1>Automation Center</h1>\n    <!-- Button trigger modal -->\n    <select v-model=\"selectedLeague\" @change=\"getRaceDetail\">\n      <option v-for=\"l in allLeagues\" :value=\"l\" :key=\"l\">{{l.name}}</option>\n    </select>\n    <button type=\"button\" @click=\"autoStore.flip\"> {{autoStore.isAutoMode?\"Stop\":\"Start\"}}</button>\n\n    <div>\n      <h2>{{ raceDetail.name }}</h2>\n      <div>Start Date: {{ raceDetail.start_date }}</div>\n      <ul>\n        <li v-for=\"t in calculatedTasks\" :key=\"t\">\n          <input type=\"checkbox\" :id=\"t\" :value=\"t\" v-model=\"autoStore.tasks\"/>\n          <label :for=\"t\"><b>{{ t.name }}</b> - {{ t.time.toLocaleDateString() }} {{ t.time.toLocaleTimeString() }}</label>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n\n\n<script setup>\nimport { computed, ref, onMounted } from 'vue';\nimport axios from 'axios';\n\nimport { useAutoStore } from '@/stores/automation';\nconst autoStore = useAutoStore()\n\n\nconst allLeagues = ref([]);\nconst selectedLeague = ref({});\nconst raceDetail = ref({});\n/*\nconst a = computed( ()=> {\n  return 1;\n});\n*/\nconst getAllLeagues = async () => {\n  const token = localStorage.getItem('token');\n  const leagueResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/league`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  allLeagues.value = leagueResponse.data;\n};\n\nconst getRaceDetail = async () => {\n\n  const token = localStorage.getItem('token');\n      const raceResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/race/url?url=${selectedLeague.value.active_race_url}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      let detail = raceResponse.data;\n      detail.days.sort((a,b) => a.seq - b.seq);\n      raceDetail.value = detail;\n};\n\nconst calculatedTasks = computed(() => {\n  if(!raceDetail.value.days) return [];\n  let tasks = [{\n    leagueId: selectedLeague.value.id,\n    name: \"Draft\",\n    time: new Date(Date.parse(raceDetail.value.start_date) - 60*60*1000*8),\n    path: \"/rundraft\"\n  }];\n  raceDetail.value.days.forEach( (d, i) => {\n    if (d.url) {\n      tasks.push({\n        leagueId: selectedLeague.value.id,\n        name: \"Score\",\n        time: new Date(Date.parse(raceDetail.value.start_date) + 60*60*1000*(24*i+12)),\n        path: \"/runscore\",\n        data: {stageURL: d.url}\n      });}\n    tasks.push({\n      leagueId: selectedLeague.value.id,\n      name: \"Trade\",\n      time: new Date(Date.parse(raceDetail.value.start_date) + 60*60*1000*(24*i+20)),\n      path: \"/runtrade\"\n    });\n  });\n  return tasks;\n});\n\nonMounted(() => {\n  getAllLeagues();\n});\n\n\n</script>\n","import script from \"./AutomationCenterView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AutomationCenterView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div>\n    <h1 class = \"mt-4\">Create League</h1>\n    <form>\n      <div class=\"row gx-5 mb-3\">\n          <div class=\"col\">\n            <label for=\"exampleInputPassword1\" class=\"form-label\">League Name</label>\n            <input v-model=\"leaguename\" class=\"form-control\" id=\"exampleInputPassword1\">\n          </div>\n        </div>\n        <div class=\"container px-4 text-center\">\n          <div class=\"row gx-t\">\n            <label for=\"raceselect\" class=\"form-label\">Race</label>\n            <select v-model=\"selectedRace\" id=\"raceselect\">\n              <option v-for=\"race in allRaces\" :value=\"race\" :key=\"race\">{{race.name}}</option>\n            </select>\n          </div>\n          <div class=\"row gx-5 mb-3\">\n            <div class=\"col\">\n              <label for=\"inputPassword\" class=\"form-label\">League Password</label>\n              <input v-model=\"code\" class=\"form-control\" id=\"inputPassword\" aria-describedby=\"emailHelp\">\n            </div>\n          </div>\n          <div class=\"row gx-5 mb-3\">\n            <div class=\"col\">\n              <label for=\"playernickname\" class=\"form-label\">Your Nickname</label>\n              <input v-model=\"nickname\" class=\"form-control\" id=\"playernickname\" aria-describedby=\"emailHelp\">\n            </div>\n          </div>\n          <div class=\"row gx-5\">\n            <div class=\"col\">\n              <button @click.prevent=\"create\" class=\"btn btn-success\">Create</button>\n            </div>\n          </div>\n        </div>\n    </form>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport { useLeagueStore} from '@/stores/league'\nconst router = useRouter()\n\nconst leagueStore = useLeagueStore()\n\nconst code = ref(\"\");\nconst leaguename = ref(\"\");\nconst nickname = ref(\"\");\n\nconst allRaces = ref([]);\nconst selectedRace = ref({});\n\nconst create = async () => {\n\n  let newLeague = {\n    name: leaguename.value,\n    password: code.value,\n    active_race_url: selectedRace.value.url,\n    activeRace: selectedRace.value.name,\n    admin: \"ltseng\",\n    players: []\n  }\n\n  const token = localStorage.getItem('token');\n  const leagueResponse = await axios.post(`${process.env.VUE_APP_API_BASE_URL}/league/create-league`, newLeague, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n\n  console.log(leagueResponse);\n  await leagueStore.join(code.value, nickname.value);\n\n  router.push({ name: 'LeagueHome' });\n};\n\nconst loadRaces = async () => {\n  const token = localStorage.getItem('token');\n  const raceResponse = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/race`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  allRaces.value = raceResponse.data.slice().sort((a,b) => Date.parse(b.start_date)-Date.parse(a.start_date));\n  selectedRace.value = allRaces.value[0];\n};\n\nonMounted(() => {\n  loadRaces();\n});\n</script>\n\n<style scoped>\n  </style>","import script from \"./CreateLeagueView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CreateLeagueView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <h1 class = \"mt-4\"> Past announcements</h1>\n    <div class=\"container w-75\">\n        <div v-for=\"a in announcements\" :key=\"a\" class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n          <span v-html=\"a.message\"></span>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { computed, onMounted } from 'vue';\nimport { useLeagueStore } from '@/stores/league';\nconst leagueStore = useLeagueStore()\n\nconst announcements = computed(() => {\n  return leagueStore.announcements.slice().reverse();\n})\n\nonMounted(() => {\n  leagueStore.getAllAnnouncements();\n});\n\n\n</script>","import script from \"./NewsfeedView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewsfeedView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <h2 class = \"mt-4\">My Team</h2>\n  <div v-if=\"isMyTurn\" class=\"alert alert-success alert-dismissible fade show\"> Your Turn</div>\n    <div class=\"d-flex justify-content-center mt-3\">\n      <div class=\"d-flex flex-wrap justify-content-center mx-2\">\n        <div v-for=\"r in myTeam\" :key=\"r\" class=\"card mb-3 mx-2 p-2\" style=\"width: 18rem;\">\n          <div class=\"d-flex align-items-center\">\n            <div class=\"d-flex flex-column align-items-center\">\n                <img :src=\"r.teamimg?r.teamimg:'blank-profile-picture.png'\" class=\"img-fluid\" alt=\"Racer Image\" style=\"width: 50px; height: 50px;\">\n                <p class=\"text-muted text-center\" style=\"font-size: 13px;\">#{{ r.bib }}</p>\n            </div>\n            <div class=\"content-wrapper\">\n              <h5 class=\"card-title\"><a :href=\"r.url\" target=\"prosite\">{{ r.name }}</a></h5>\n              <p class=\"card-text\" v-if=\"r.specialties.length > 0\">{{ r.specialties.join(', ') }}</p>\n              <p class=\"card-text\" v-else>None</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  <h2 class = \"mt-4\">Available Racers</h2>\n  <span v-for=\"s in specialties\" :key=\"s\" class=\"px-2\">\n      <input type=\"checkbox\" :id=\"s\" :value=\"s\" v-model=\"specialtiesFilter\">\n      <label :for=\"s\">&nbsp;{{s}}</label>\n  </span>\n  <div class=\"d-flex justify-content-center mt-3\">\n      <button type=\"button\" class=\"btn btn-success\" @click=\"submitSelection()\" :disabled=\"!selectedRacer || !isMyTurn\">Submit {{ nextSeq + 1 }} </button>\n  </div>\n    <div class=\"d-flex flex-wrap justify-content-center mt-3 mx-2\">\n      <div v-for=\"r in availableRacers\" :key=\"r\" @click=\"selectRacer(r)\" class=\"card mb-3 mx-2 p-2\" :class=\"{ 'border-success-thick': selectedRacer === r }\" style=\"width: 18rem; cursor: pointer;\">\n        <div class=\"d-flex align-items-center\">\n          <div class=\"d-flex flex-column align-items-center\">\n            <img :src=\"r.teamimg?r.teamimg:'blank-profile-picture.png'\" class=\"img-fluid\" alt=\"Racer Image\" style=\"width: 50px; height: 50px;\">\n            <!--p>{{ r.bib }}</p-->\n            <p class=\"text-muted text-center\" style=\"font-size: 13px;\">#{{ r.bib }}</p>\n          </div>\n          <div class=\"content-wrapper\">\n            <h5 class=\"card-title px-2\"><a :href=\"r.url\" target=\"prosite\">{{ r.name }}</a></h5>\n            <p class=\"card-text px-2\" v-if=\"r.specialties.length > 0\">{{ r.specialties.join(', ') }}</p>\n            <p class=\"card-text px-2\" v-else>None</p>\n          </div>\n        </div>\n        \n      </div>\n    </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted, computed } from 'vue';\nimport axios from 'axios';\n\nimport { useRacerStore } from '@/stores/racer';\nimport { useLeagueStore} from '@/stores/league';\n\nconst leagueStore = useLeagueStore();\n\nconst racerStore = useRacerStore();\nconst availableRacers = computed(() => {\n  return racerStore.allRacers.filter( r => !r.player && (specialtiesFilter.value.length === 0 || specialtiesFilter.value.every(f => r.specialties.includes(f))))\n});\nconst specialties = ['GC', 'TT', 'Sprinter', 'One day races', 'Hills', 'Climber', 'Youth'];\nconst specialtiesFilter = ref([]);\n\nconst racerMap = computed (()=> {\n  return new Map(racerStore.allRacers.slice().map( r=> [r.url, r]));\n});\nconst myTeam = computed( () => {\n  return racerStore.allRacers.filter( r => r.player == leagueStore.leaguePlayer.player_strava_id )\n});\n\nconst selectedRacer = ref(null);\nconst selectRacer = (racer) => {\n  selectedRacer.value = racer;\n};\n\nconst nextSeq = ref(0);\n\nconst submitSelection = async () => {\n  await axios.post(`${process.env.VUE_APP_API_BASE_URL}/livedraft/draftracer`, {\n    league_id: leagueStore.league.id,\n    player_id: leagueStore.leaguePlayer.player_strava_id,\n    racer_url: selectedRacer.value.url,\n    seq: nextSeq.value\n  })\n    .then(function (response) {\n      // handle success\n      console.log(response);\n    })\n  selectedRacer.value = null;\n};\n\nconst myTurns = ref([]);\n\nconst isMyTurn = computed(() => {\n  return (myTurns.value.indexOf(nextSeq.value)!=-1)\n});\n\nconst controller = new AbortController();\n\nconst getStreamAxios = async () => {\n  try {\n    console.log('Sending request');\n    const response = await fetch(`${process.env.VUE_APP_API_BASE_URL}/livedraft/stream/${leagueStore.league.id}`, {\n      method: 'GET',\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('token'),\n        Accept: 'text/event-stream',\n        'Content-Type': 'application/json',\n      },\n      signal: controller.signal\n    });\n\n    if (response.body) {\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder('utf-8');\n\n      for(;;) {\n        const { done, value } = await reader.read();\n        if (done) {\n          break;\n        }\n        const chunk = decoder.decode(value, { stream: true });\n        console.log(chunk);\n        const events = leagueStore.parseChunk(chunk);\n        events.forEach( e => {\n          console.log(e.eventType)\n          const msg = JSON.parse(e.data)\n          if(e.eventType === 'draft_position') {\n            myTurns.value = msg\n          } else {\n            nextSeq.value = msg.slice(-1)[0].seq+1\n            msg.slice().forEach( s => {\n              racerMap.value.get(s.racer_url).player = s.player_id\n            });\n            if (selectedRacer.value && racerMap.value.get(selectedRacer.value.url).player) selectedRacer.value = null;\n          }\n        })\n      }\n    }\n\n    console.log('Request sent');\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nonMounted(() => {\n  racerStore.getRacerlist(leagueStore.league.active_race_url);\n  getStreamAxios();\n});\n\nonUnmounted( () => {\n  controller.abort()\n});\n</script>\n\n<style scoped>\n.border-success-thick {\n  border: 4px solid #28a745; /* Bootstrap success green with thicker border */\n}\n\n.image-parent {\n  width: 50px; /* Adjust width of the image container */\n  margin-right: 10px; /* Adjust margin between image and content */\n}\n\n.img-fluid {\n  max-width: 100%;\n  height: auto;\n}\n\n.content-wrapper {text-align: left;\n}\n\n</style>","import script from \"./LiveDraftView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LiveDraftView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LiveDraftView.vue?vue&type=style&index=0&id=c4214eda&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c4214eda\"]])\n\nexport default __exports__","<template>\n  <h2>Teams</h2>\n  <button @click=\"initializeDraft()\" :disabled=\"initialized\"> Initialize Live Draft </button>\n  <button @click=\"submitDraft()\" :disabled=\"turnPosition != -1\" > Submit Draft Results</button>\n  <table>\n    <tbody><tr>\n      <td v-for=\"p, i in leagueStore.players\" :key=\"p\" :class=\"{ 'border-success-thick': i === turnPosition }\">\n        <div>{{ p.player_nickname }}</div>\n        <input type=\"checkbox\" :id=\"p.id\" :value=\"p.player_strava_id\" v-model=\"autopilots\" @change=\"autoSelect()\"/><label :for=\"p.id\">auto</label>\n        <div v-for=\"r in teamsMap.get(p.player_strava_id)\" :key=\"r\"> {{ r.name }}</div>\n      </td>\n    </tr></tbody>\n  </table>\n\n  <h2>Available Racers</h2>\n  <ul>\n    <li v-for=\"r in availableRacers\" :key=\"r\"> {{ r.name }}</li>\n  </ul>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted, computed } from 'vue';\nimport axios from 'axios';\nimport EventSourceStream from '@server-sent-stream/web';\n\nimport { useRacerStore } from '@/stores/racer';\nimport { useLeagueStore} from '@/stores/league';\n\nconst leagueStore = useLeagueStore();\n\nconst racerStore = useRacerStore();\nconst availableRacers = computed(() => {\n  return racerStore.allRacers.filter( r => !r.player)\n});\nconst racerMap = computed (()=> {\n  return new Map(racerStore.allRacers.slice().map( r=> [r.url, r]));\n});\n\nconst teamsMap = computed (() => {\n  return Map.groupBy(racerStore.allRacers.slice(), ({player}) => player);\n});\n\n/*\nconst playerMap = computed ( () => {\n  return new Map(leagueStore.players.slice().map( p => [p.player_strava_id, p]));\n});\n*/\nconst nextSeq = ref(0);\n\nconst turnPosition = computed( () => {\n  const next = nextSeq.value;\n  const length = leagueStore.league.players.length;\n  if (next == length*12) return -1;\n  return Math.floor(next/length)%2==0?next%length:length-(next%length)-1;\n})\n\nconst initialized = ref(false);\n\nconst initializeDraft = async () => {\n  console.log(racerStore.allRacers.length + \" \" + availableRacers.value.length)\n  if (racerStore.allRacers.length == availableRacers.value.length) {\n    leagueStore.shuffle();\n    leagueStore.players.forEach( p => {\n      p.active_racers = [];\n      p.bench_racers = [];\n    });\n    const token = localStorage.getItem('token');\n    await axios.put(`${process.env.VUE_APP_API_BASE_URL}/league/draftresult`, leagueStore.players, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    //leagueStore.loadLeague(leagueStore.league.id);\n    //leagueStore.getLeaguePlayers(leagueStore.league.id);\n    leagueStore.league.players = leagueStore.players.map(({player_strava_id}) => player_strava_id);\n  }\n\n  initialized.value= true;\n};\n\nconst autopilots = ref([]);\n\nconst autoSelect = async () => {\n  console.log(autopilots.value)\n  console.log(leagueStore.league.players[turnPosition.value])\n  if(autopilots.value.includes(leagueStore.league.players[turnPosition.value])) {\n    await axios.post(`${process.env.VUE_APP_API_BASE_URL}/livedraft/draftracer`, {\n      league_id: leagueStore.league.id,\n      player_id: leagueStore.league.players[turnPosition.value],\n      racer_url: availableRacers.value[0].url,\n      seq: nextSeq.value\n    })\n      .then(function (response) {\n        // handle success\n        console.log(response);\n      })\n  }\n};\n\nconst submitDraft = async () => {\n  leagueStore.players.forEach( p => {\n    const drafted = teamsMap.value.get(p.player_strava_id);\n    p.active_racers = drafted.slice(0,8);\n    p.bench_racers = drafted.slice(8);\n  });\n  leagueStore.submitDraft();\n  leagueStore.league.players = leagueStore.players.map(({player_strava_id}) => player_strava_id);\n  controller.abort();\n};\n\nconst controller = new AbortController();\n\nconst getStreamAxios = () => {\n  const token = localStorage.getItem('token');\n  axios.get(`${process.env.VUE_APP_API_BASE_URL}/livedraft/stream/${leagueStore.league.id}`, {\n    headers: {\n      'Accept': 'text/event-stream',\n      'Authorization': `Bearer ${token}`\n    },\n    responseType: 'stream',\n    adapter: 'fetch', // <- this option can also be set in axios.create()\n    signal: controller.signal\n  })\n    .then(async (response) => {\n      console.log('axios got a response');\n      const stream = response.data;      \n\n      // consume response\n      const reader = stream.pipeThrough(new EventSourceStream()).getReader();\n      for (;;) {\n        const { value, done } = await reader.read();\n        if (done) break;\n        //data.value = data.value + value.data;\n        //console.log(value)\n        const msg = JSON.parse(value.data);\n        //console.log(msg);\n        if(value.type === 'draft_position') {\n          //myTurns.value = msg\n        } else {\n          nextSeq.value = msg.slice(-1)[0].seq+1\n          msg.slice().forEach( s => {\n            racerMap.value.get(s.racer_url).player = s.player_id\n          });\n          if (msg.length > 0) initialized.value = true;\n          autoSelect();\n          //if (selectedRacer.value && racerMap.value.get(selectedRacer.value.url).player) selectedRacer.value = null;\n        }\n      }\n    }).catch(\n    function (error) {\n      console.log(error)\n      //return Promise.reject(error)\n    }\n  )\n}\n\nonMounted(() => {\n  racerStore.getRacerlist(leagueStore.league.active_race_url);\n  getStreamAxios();\n});\n\nonUnmounted( () => {\n  controller.abort()\n});\n</script>\n\n<style scoped>\n.border-success-thick {\n  border: 4px solid #28a745; /* Bootstrap success green with thicker border */\n}\n</style>","import script from \"./RunLiveDraftView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RunLiveDraftView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RunLiveDraftView.vue?vue&type=style&index=0&id=52c073fd&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-52c073fd\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\n//import HomeView from '../views/HomeView.vue'\nimport Login from '../views/LoginView.vue'\nimport Callback from '../views/CallbackView.vue'\nimport Activities from '../views/ActivitiesView.vue'\nimport Routes from '../views/RoutesView.vue'\nimport Stats from '../views/StatsView.vue'\nimport Logout from '../views/LogoutView.vue'\nimport Profile from '../views/ProfileView.vue'\nimport JoinLeague from '../views/JoinLeagueView.vue'\nimport LeagueHome from '@/views/LeagueHome.vue'\nimport LeaguePreview from '@/views/LeaguePreview.vue'\nimport DraftList from '@/views/DraftListView.vue'\nimport Roster from '@/views/RosterView.vue'\nimport RunDraft from '@/views/RunDraftView.vue'\nimport Trade from '@/views/TradeView.vue'\nimport RunTrade from '@/views/RunTrade.vue'\nimport RunScore from '@/views/RunScoresView.vue'\nimport ByPass from '@/views/ByPass.vue'\nimport DetailScore from '@/views/DetailScoresView.vue'\nimport RosterView from '@/views/RosterViewOnly.vue'\nimport FullScoreView from '@/views/FullScoresView.vue'\nimport RaceMaintenanceView from '@/views/RaceMaintenanceView.vue'\nimport AutomationCenterView from '@/views/AutomationCenterView.vue'\nimport CreateLeagueView from '@/views/CreateLeagueView.vue'\nimport NewsfeedView from '@/views/NewsfeedView.vue'\nimport LiveDraftView from '@/views/LiveDraftView.vue'\nimport RunLiveDraftView from '@/views/RunLiveDraftView.vue'\nimport { useAuthStore } from '@/stores/authentication'\n\nconst routes = [\n  {\n    path: '/runlivedraft',\n    name: 'RunLiveDraftView',\n    component: RunLiveDraftView,\n  },\n  {\n    path: '/livedraft',\n    name: 'LiveDraftView',\n    component: LiveDraftView,\n  },\n  {\n    path: '/newsfeed',\n    name: 'NewsfeedView',\n    component: NewsfeedView,\n  },\n  {\n    path: '/createleague',\n    name: 'CreateLeagueView',\n    component: CreateLeagueView,\n  },\n  {\n    path: '/autocenter',\n    name: 'AutomationCenterView',\n    component: AutomationCenterView,\n  },\n  {\n    path: '/racecenter',\n    name: 'RaceMaintenanceView',\n    component: RaceMaintenanceView,\n  },\n  {\n    path: '/leaguepreview',\n    name: 'LeaguePreview',\n    component: LeaguePreview,\n    meta: { public: true }\n  },\n  {\n    path: '/fullscores',\n    name: 'FullScoreView',\n    component: FullScoreView,\n  },\n  {\n    path: '/rosterview',\n    name: 'RosterView',\n    component: RosterView,\n  },\n  {\n    path: '/detailscore',\n    name: 'DetailScore',\n    component: DetailScore,\n  },\n  {\n    path: '/bypass',\n    name: 'ByPass',\n    component: ByPass,\n    meta: { public: true }\n  },\n  {\n    path: '/runscore',\n    name: 'RunScore',\n    component: RunScore\n  },\n  {\n    path: '/runtrade',\n    name: 'RunTrade',\n    component: RunTrade\n  },\n  {\n    path: '/trade',\n    name: 'Trade',\n    component: Trade\n  },\n  {\n    path: '/rundraft',\n    name: 'RunDraft',\n    component: RunDraft\n  },\n  {\n    path: '/roster',\n    name: 'Roster',\n    component: Roster\n  },\n  {\n    path: '/draftlist',\n    name: 'DraftList',\n    component: DraftList\n  }, \n  {\n    path: '/joinleague',\n    name: 'JoinLeague',\n    component: JoinLeague\n  }, \n  {\n    path: '/leaguehome',\n    name: 'LeagueHome',\n    component: LeagueHome\n  }, \n  {\n    path: '/profile',\n    name: 'Profile',\n    component: Profile\n  }, \n  {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue'),\n    meta: { public: true }\n  },\n  {\n    path: '/',\n    name: 'Login',\n    component: Login,\n    meta: { public: true }\n  },\n  {\n    path: '/callback',\n    name: 'Callback',\n    component: Callback,\n    meta: { public: true }\n  },\n  {\n    path: '/activities',\n    name: 'Activities',\n    component: Activities\n  },\n  {\n    path: '/routes',\n    name: 'Routes',\n    component: Routes\n  },\n  {\n    path: '/stats',\n    name: 'Stats',\n    component: Stats\n  },\n  {\n    path: '/logout',\n    name: 'logout',\n    component: Logout,\n    meta: { public: true }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  const authStore = useAuthStore();\n  console.log(\"to: \" + to.path)\n  console.log(\"private? \" + !to.meta.public + \" auth? \" + !authStore.isAuthenticated)\n  if (!to.meta.public && !authStore.isAuthenticated) {\n    next('/');\n  } else {\n    next();\n  }\n});\n\nexport default router\n","import { createApp } from 'vue'\nimport { createPinia } from 'pinia';\nimport App from './App.vue'\nimport router from './router'\n\nconst pinia = createPinia();\ncreateApp(App).use(pinia).use(router).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"about\" + \".\" + \"d7ac3ec0\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + \"about\" + \".\" + \"9d0e1022\" + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"TourDeFantasy:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"594\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkTourDeFantasy\"] = self[\"webpackChunkTourDeFantasy\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8828); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementVNode","src","width","_createElementBlock","_Fragment","_hoisted_1","_createVNode","_component_NavBar","_component_AutoBot","_component_router_view","_hoisted_2","_component_router_link","to","default","_withCtx","_hoisted_3","_","useAuthStore","defineStore","state","user","isAuthenticated","actions","login","code","console","log","response","axios","get","access_token","data","localStorage","setItem","token","getItem","userResponse","headers","this","impersonate","userid","put","logout","removeItem","useRacerStore","allRacers","racers","draftList","getRacerlist","raceurl","racerResponse","leagueStore","useLeagueStore","m","Map","players","forEach","p","active_racers","r","set","url","player_strava_id","bench_racers","player","has","loadDraftlist","updateDraftlist","getAllDraftlist","league_id","leagueplayers","draftlists","list","racer_list","push","find","user_strava_id","insertBefore","racername","beforeRacer","rac","name","b","pos","indexOf","rem","splice","move","position","direction","length","league","race","leaguePlayer","tradeList","scoresForStage","stagePlayers","announcements","allLeagues","resetData","getLeagueList","leagueResponse","getPlayerByStravaId","stravaId","getPlayerPositionByStravaId","shuffle","currentIndex","randomIndex","Math","floor","random","submitDraft","slice","reverse","join","nickname","getRace","active_race_url","getStageNameByURL","stageurl","day","days","d","getRaceScoreByStage","stageUrl","racerToAwardsMap","groupBy","racer","racerStore","stage_scores","s","stage_url","stageRacers","scores","delete","dummyPlayer","player_nickname","racerurl","structuredClone","bonus","stageScore","jerseys","point","category","submitStageScore","maxScore","maxPerson","ss","total_score","idx","findIndex","current_score","reduce","n","message","post","Date","now","loadLeague","leagueId","getLeaguePlayers","auth","strava_id","sortedPlayers","sort","a","parseInt","substring","lastIndexOf","moveRoaster","target","concat","filter","submitRoaster","status","alert","submitTrade","fromRacer","toRacer","toString","getTradeRequests","ranking","pb","pa","tradedRacer","tradedPlayer","trade","tr","selected","getMultiTradeRequests","tradePriority","map","tradedRacers","size","requestList","request","shift","includes","cancelTradeRequest","completeTradeRequests","accepted","req","pr","rlist","ar","getAnnouncements","getAllAnnouncements","parseChunk","chunk","events","split","eventList","eventChunk","eventType","lines","eventData","line","lineMatch","exec","field","value","lastEventId","authStore","myLeaguePlayers","ref","getMyLeaguePlayers","async","playerResponse","onMounted","__exports__","useAutoStore","tasks","currentTask","isAutoMode","flip","startTask","task","t","completed","time","inProgress","completeTask","autoStore","router","useRouter","timeoutId","autopilot","path","setInterval","components","NavBar","AutoBot","render","class","_hoisted_6","_hoisted_4","_hoisted_5","onClick","_cache","args","$options","_hoisted_7","created","current_league_id","$router","error","methods","window","location","href","params","URLSearchParams","search","_renderList","$data","activities","activity","key","routes","route","_toDisplayString","distance","elevation_gain","_component_RideTotal","title","rideTotals","allTimeTotals","recentTotals","yearTotals","stats","biggest_ride_distance","biggest_climb_elevation_gain","$props","count","moving_time","props","String","Object","RideTotal","all_ride_totals","recent_ride_totals","ytd_ride_totals","userRoles","leagueid","password","computed","copy","getPlayers","stageScores","scoresMap","loadStageScores","stage","v","stageNameMaps","loadStageNameMaps","__props","leagueList","getRacers","dragTarget","dragEnter","event","startDragging","dataTransfer","dropEffect","effectAllowed","setData","onDrop","getData","preventDefault","submit","activeRacers","benchRacers","racerName","draftLists","randomizeOrder","round","runDraft","dl","lists","next","l","took","ps","dls","i","getStatus","draft","availableRacers","selectFromRacer","selectToRacer","stages","selectedStage","getScores","retrieveScores","scoreResponse","doc","document","createElement","innerHTML","querySelectorAll","e","childNodes","textContent","getAttribute","isLastStage","Array","from","startsWith","stageHeaders","firstChild","children","replace","origin","gcHeaders","querySelector","youthHeaders","ybonus","pointsHeaders","lastChild","komHeaders","then","stageURL","playerScores","stravaid","selectedPlayer","bench_racers_racers","totalScoreList","tmap","k","tslist","stageList","seq","shortname","racerNameMap","namemap","allRaces","selectedRace","raceURLInput","loadRaces","raceResponse","parse","start_date","element","nextSibling","className","selectRace","saveRace","updateRace","text","innerText","nationality","specialtyResponse","table","specialty","parentElement","previousSibling","youthResponse","teamResponse","racersteams","team","teamname","teamimg","rt","bib","selectedLeague","raceDetail","getAllLeagues","getRaceDetail","detail","calculatedTasks","leaguename","create","newLeague","activeRace","admin","specialtiesFilter","every","f","specialties","racerMap","myTeam","selectedRacer","selectRacer","nextSeq","submitSelection","player_id","racer_url","myTurns","isMyTurn","controller","AbortController","getStreamAxios","fetch","method","Authorization","Accept","signal","body","reader","getReader","decoder","TextDecoder","done","read","decode","stream","msg","JSON","onUnmounted","abort","teamsMap","turnPosition","initialized","initializeDraft","autopilots","autoSelect","drafted","responseType","adapter","pipeThrough","EventSourceStream","type","catch","component","RunLiveDraftView","LiveDraftView","NewsfeedView","CreateLeagueView","AutomationCenterView","RaceMaintenanceView","LeaguePreview","meta","public","FullScoreView","RosterView","DetailScore","ByPass","RunScore","RunTrade","Trade","RunDraft","Roster","DraftList","JoinLeague","LeagueHome","Profile","Login","Callback","Activities","Routes","Stats","Logout","createRouter","history","createWebHistory","process","beforeEach","pinia","createPinia","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","getter","__esModule","definition","o","defineProperty","enumerable","chunkId","Promise","all","promises","u","miniCssF","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","charset","timeout","nc","setAttribute","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","setTimeout","bind","head","appendChild","Symbol","toStringTag","createStylesheet","fullhref","oldTag","resolve","reject","linkTag","rel","nonce","onLinkComplete","errorType","realHref","err","Error","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}